{"version":3,"sources":["assets/mega.gif","assets/metroid.gif","assets/penguin.gif","assets/builds.gif","audioBufferToWav.js","assets/audio-editor-info.gif","assets/blob_excited.gif","assets/blob-octopus.gif","assets/cool-doge.gif","assets/hand_wave.gif","assets/koopa_troopa_mario_kart.gif","assets/goomba.gif","assets/powerup.gif","assets/read-my-mind.gif","assets/star.gif","assets/up-red-arrow.gif","assets/yahoo_games_woman.png","assets/error-gif.gif","assets/red_ghost.gif","assets/kirby.gif","assets/link-run.gif","assets/mario.gif","assets/nyancat_big.gif","assets/yoshi.gif","assets/emoji_stream_demo_gif.gif","assets/Polka-Dots.svg","types/index.ts","util.ts","components/AdventureLogo.tsx","contexts/appContext.tsx","contexts/firebaseContext.tsx","components/GIFPreview.tsx","routes/CreatePage.tsx","components/Widgets/Widget.tsx","components/AudioTrack.tsx","components/PlayerButton.tsx","components/AudioTrackList.tsx","components/waveformItem.tsx","components/audioVisualizer.tsx","components/LibraryButton.tsx","components/BulletSection.tsx","components/EmojiPanel.tsx","components/Leaderboard.tsx","components/AnimationCanvas.tsx","components/LiveEmojiSection.tsx","components/InteractivePlayer.tsx","routes/LobbyPage.tsx","routes/PlayerPage.tsx","routes/UploadPage.tsx","routes/YoutubePage.tsx","App.tsx","index.tsx","assets/bananadance.gif"],"names":["module","exports","writeString","view","offset","string","i","length","setUint8","charCodeAt","buffer","opt","result","numChannels","numberOfChannels","sampleRate","format","float32","bitDepth","inputL","inputR","Float32Array","index","inputIndex","interleave","getChannelData","samples","bytesPerSample","blockAlign","ArrayBuffer","DataView","setUint32","setUint16","output","input","s","Math","max","min","setInt16","floatTo16BitPCM","setFloat32","writeFloat32","encodeWAV","WidgetTypes","ACTIONS","ItemTypes","audioContext","window","AudioContext","webkitAudioContext","convertAudioBufferToBlob","buffers","concat","buffLength","channels","totalDuration","a","push","duration","reduce","b","tmp","createBuffer","channel","dataIndex","c","set","e","console","log","error","concatBuffer","Blob","audioBufferToWav","type","convertTracksToBlob","tracks","userFiles","toConcatFiles","map","track","referenceId","audioBuffer","convertBufferToWaveformData","scale","options","audio_context","audio_buffer","Promise","resolve","reject","WaveformData","createFromAudio","err","waveform","createWaveform","file","reader","FileReader","onloadend","decodeAudioData","waveformData","readAsArrayBuffer","adventureText","process","AdventureLogo","widget","style","display","justifyContent","alignItems","Tooltip","title","className","AppStateContext","React","createContext","isIOS","waveformLength","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","storage","db","firestore","FirebaseContext","uploadSong","getSongs","getSongURL","getLibraryMetadata","updateEmojis","updateLiveEmojis","updateBullets","updateLiveEmojiPoints","updatePlayCount","uploadYoutubeVideo","drawerTypes","GIFPreview","useState","authorName","setAuthorName","songName","setSongName","appStateContext","useContext","firebaseContext","songUrl","setSongUrl","isLoading","setIsLoading","songId","setSongId","inputRef","createRef","userGif","setUserGif","useEffect","shareSong","newSongUrl","URL","createObjectURL","sharedSongUrl","document","location","href","fontSize","marginBottom","marginTop","target","rel","onClick","current","click","alt","src","url","width","height","onChange","label","controls","CircularProgress","IconButton","alert","blob","then","id","Share","ref","evt","files","fileUrl","EditableTextfield","props","isEditing","setIsEditing","value","setValue","TextField","marginRight","textDecoration","minWidth","minHeight","Widget","top","left","useDrag","item","collect","monitor","isDragging","drag","renderWidget","time","joke","JokeWidget","setup","setSetup","punchline","setPunchline","audio","Audio","newJoke","useCallback","fetch","res","json","res2","play","WidgetTime","setTime","setInterval","newTime","getFormattedTime","newDate","Date","now","getHours","getMinutes","toString","padStart","getSeconds","getMilliseconds","AudioTrack","forwardRef","canvasRef","moveTrack","useRef","useDrop","accept","hover","dragIndex","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleX","right","hoverClientX","getClientOffset","x","drop","opacity","position","background","isHovering","cursor","border","onMouseOver","setIsHovering","onMouseLeave","Button","color","variant","onClickDelete","PlayerButton","isPlaying","Pause","PlayCircleFilledRounded","userSelect","PlayerLogo","disabled","useStyles","makeStyles","theme","createStyles","popover","pointerEvents","AudioTrackList","setTracks","isPlayingSong","setPlayingSong","setAudio","isHoveringId","setIsHoveringId","timeListRef","setScale","classes","infoAnchorEl","setInfoAnchorEl","handlePopoverClose","open","Boolean","boxes","setBoxes","canvasRefs","Array","from","_","renderCanvas","newBoxes","forEach","scaleY","amplitude","canvas","ctx","getContext","beginPath","val","max_sample","lineTo","min_sample","closePath","stroke","fill","update","$merge","dragTicket","$splice","onDrop","newTrack","uuidv4","isOver","canDrop","changeSongScale","all","userFile","waveformDataArr","newTracks","data","isActive","isEmptyTracklist","onActionClick","flexDirection","newScale","Add","Remove","textAlign","visibility","backgroundColor","onScroll","scrollLeft","pixelsPerSecond","pixels_per_second","onMouseEnter","event","currentTarget","Info","key","slice","overflowX","borderLeft","seconds_per_pixel","toFixed","onClickDownload","CloudDownload","pause","newAudioUrl","newAudio","onended","onClickShare","Popover","anchorEl","onClose","disableRestoreFocus","infoGif","ActionLinks","Object","values","action","PlayLine","setPosition","interval","currentTime","clearInterval","zIndex","WaveformItem","name","AudioVisualizer","userFilesArr","delta","getDifferenceFromInitialOffset","round","y","moveBox","moveWidget","box","link","createElement","download","body","appendChild","removeChild","downloadFromUrl","onAddFile","selectFromFolder","onchange","onShareSong","widgets","LibraryButton","text","MusicNoteOutlined","CreatePage","setUserFiles","isDrawerOpen","setIsDrawerOpen","drawerType","setDrawerType","setWidgets","libraryMetadata","setLibraryMetadata","setShareSong","history","useHistory","Error","onClickWidgetItem","newWidgetId","newWidgets","waveForm","newId","newUserFiles","onClickLibraryItem","request","XMLHttpRequest","responseType","onload","audioData","response","send","handleFileDrop","getItem","newFilesArr","acc","NativeTypes","FILE","Provider","includes","navigator","platform","userAgent","innerWidth","padding","music","boxSizing","flex","findIndex","Drawer","anchor","maxWidth","downloadURL","COLOR_PALLET","BulletSection","bullets","lanes","availColor","bulletDiv","youtubeRef","onChangeInput","setState","inputValue","matchPlayerDim","screen","parentElement","offsetTop","initializeLanes","clearBulletInterval","onPlayCallback","bulletScreen","onPauseCallback","addBullet","state","textToScreen","submitBullet","getTimeStamp","parseInt","setTimeout","node","createBulletNode","clientWidth","anime","targets","translateX","easing","complete","random","resetColor","this","floor","clientHeight","initializeBulletScreen","addEventListener","onplaying","onpause","num","getCurrentTime","getPreciseTime","keys","lane","getLane","innerText","choice","filter","placeholder","onKeyUp","Component","EmojiPanel","selectedEmojis","onClickEmoji","isDisabled","entries","getEmojiImageURL","code","medalEmojis","0","1","2","Leaderboard","inOrderScores","scores","sort","score","medal","emoji","AnimationCanvas","emojiCanvas","tap","msMaxTouchPoints","renderParticule","anim","animatables","draw","animateParticules","points","particules","particuleCount","createParticule","timeline","add","p","endPos","radius","initializeCanvas","initializeListener","resetStreak","initializeDimension","canvasEl","Infinity","clearRect","colors","setParticuleDirection","arc","PI","fillStyle","angle","cos","sin","INSTRUCTIONS","INSTRUCTION_GIFS","coolDoge","powerup","readMyMind","star","blobOctopus","MEDAL_EMOJIS","LiveEmojiSection","chosenEmoji","streakId","emojiAnimations","latestTimestamp","movingNodes","emojiDiv","animeCanvas","clickZone","instructionOut","urlsOut","animateWelcome","showHighscore","highScores","resetPoints","liveEmojiScreen","streakPoints","createEmojiNode","undefined","emojiToScreen","totalPoints","showInstruction","liveEmojis","parseFloat","createInstructionNode","instrNodeToScreen","finalInstructionToScreen","titleNode","koopaTroopaMarioKart","highScoreNodeToScreen","texts","createHighScoreNode","prevState","updatePoints","messageToScreen","randomBonusNode","randomSpecialNode","onChangePoints","animatePoint","rect","bottom","addPoint","transInfo","transform","substring","indexOf","withinClickZone","createBuildNode","createPenguinNode","createNiceWorkNode","createMegamegaNode","createGoombaNode","createBananadanceNode","createMarchonNode","choices","blobExcited","urlsToScreen","createSongUrlNode","gifSrc","innerHTML","gifNode","insertAdjacentElement","emojiNode","onLiveEmojiClick","frontGif","backGif","gifNodeBegin","gifNodeEnd","frontText","gif","backText","gifTextGifNode","streakBonusBuildsGif","textGifTextNode","letsGoGoombaGif","bananadanceGif","mega","metroid","penguin","yahooGamesWoman","onclick","setSongPlayingIndex","resetState","fast","delayIn","delayOut","delay","upRedArrow","INSTRUCTION_DURATION_FACTOR","animation","paddingLeft","hidden","getStreakColor","handWave","openingScreen","socket","hostname","io","avatarMap","mario","kirby","nyancat","ghost","yoshi","selectedProfiles","InteractivePlayer","isYoutube","isLobby","isLobbyPlaying","setIsLobbyPlaying","lobbyPlayTime","setLobbyPlaytime","setIsPlaying","playerBodyRef","playerBodyRect","setPlayerBodyRect","useParams","userPoints","setUserPoints","isEmojiPickerOpen","setIsEmojiPickerOpen","song","setSong","setError","songPlayingIndex","userSongs","setUserSongs","selectedSongEmojis","setSelectedSongEmojis","selectedSongLiveEmojis","setSelectedSongLiveEmojis","selectedSongBullets","setSelectedSongBullets","shareAnchor","setShareAnchor","isDisplayingScoreModal","setDisplayingScoreModal","setPoints","scoreName","setScoreName","historyURL","useMemo","playedSong","setPlayedSong","isCollaborating","setCollaborating","amountOnline","setAmountOnline","userLocations","setUserLocations","userProfiles","setUserProfiles","updateCursorPosition","throttle","emit","onMouseMove","clientX","clientY","onresize","onChangeCollaboration","onCursorMove","clientId","absoluteX","absoluteY","newUserLocations","adjustedPoints","onSubmitBullet","onReceiveBullet","bulletRef","on","clientProfile","profileInfo","playTime","onSubmitPoints","highscores","liveEmojiRef","debounce","emojiSelections","initializeEmojis","initializeBullets","songs","onEmojiClick","newSongEmojiSelections","unified","addEmoji","songIndex","upload","newPlayCount","playCount","onPlay","onPlayYoutube","onPause","onPauseYoutube","playSong","_audio","initializeAudio","onClickPrevSong","newSongIndex","onClickNextSong","generateRandomUrls","picked","info","randomSongUrl","onSongEnd","onTogglePlaySong","convertedSong","artist","onClickEmojiPanel","newSelectedSongEmojis","onClickHome","removeAttribute","onReady","onEnded","onProgress","playedSeconds","playing","config","youtube","playerVars","start","ceil","gifUrl","onError","Switch","checked","SkipPrevious","SkipNext","errorImg","onClickPrev","onClickNext","onTogglePlay","Close","htmlColor","isLocked","InsertEmoticon","Lock","generateUrl","Modal","origin","UserCursors","avatar","LobbyPage","PlayerPage","RANDOM_EMOJIS","UploadPage","isSubmitting","setIsSubmitting","latestSubmitted","setLatestSubmitted","setUrl","randomSongs","setRandomSongs","generateEmoji","setGenerateEmoji","setAnchorEl","getRandomSongs","previewURL","bananaDance","margin","FormControlLabel","control","Checkbox","anchorOrigin","vertical","horizontal","transformOrigin","emojiStreamDemo","message","isValidYouTubeURL","generatedEmojis","emojis","getDuration","timestamp","roundedTime","roundTime","generateEmojiStream","trimmedURL","trimURL","catch","test","indexAmpersand","trim","indexArr","shuffle","randomSongArr","YoutubePage","App","backgroundImage","getDownloadURL","collection","get","docs","doc","gifId","put","storageRes","snapshot","fullPath","metadata","listAll","items","merge","exists","withFirebaseContext","exact","path","HTML5toTouch","to","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c740719b.chunk.js","sourcesContent":["module.exports = \"data:image/gif;base64,R0lGODlhMAAwAPcAAP////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////e1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1Uve1UjHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9zHW9xAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEABz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wBz9wAAACH/C05FVFNDQVBFMi4wAwH//wAh+QQJFAD/ACwAAAAAMAAwAAAI/wD/CRxIsOA/TZrOKDyDsKEmgxAjSjSIcCFDhw8natxYcSHCZiBDItxIEmJHhR9DghxZsiXGhipjNmPZUuPLlDJXZqwZMaVFnDkd8jSpCeTP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\"","module.exports = \"data:image/gif;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/penguin.1953251b.gif\";","module.exports = __webpack_public_path__ + \"static/media/builds.7be2a2f0.gif\";","module.exports = audioBufferToWav;\nfunction audioBufferToWav(buffer, opt) {\n  opt = opt || {};\n\n  //   console.log(buffer);\n  var numChannels = buffer.numberOfChannels;\n  var sampleRate = buffer.sampleRate;\n  var format = opt.float32 ? 3 : 1;\n  var bitDepth = format === 3 ? 32 : 16;\n\n  var result;\n  //   console.log(numChannels);\n  if (numChannels === 2) {\n    result = interleave(buffer.getChannelData(0), buffer.getChannelData(1));\n  } else {\n    result = buffer.getChannelData(0);\n  }\n\n  return encodeWAV(result, format, sampleRate, numChannels, bitDepth);\n}\n\nfunction encodeWAV(samples, format, sampleRate, numChannels, bitDepth) {\n  var bytesPerSample = bitDepth / 8;\n  var blockAlign = numChannels * bytesPerSample;\n\n  var buffer = new ArrayBuffer(44 + samples.length * bytesPerSample);\n  var view = new DataView(buffer);\n\n  /* RIFF identifier */\n  writeString(view, 0, \"RIFF\");\n  /* RIFF chunk length */\n  view.setUint32(4, 36 + samples.length * bytesPerSample, true);\n  /* RIFF type */\n  writeString(view, 8, \"WAVE\");\n  /* format chunk identifier */\n  writeString(view, 12, \"fmt \");\n  /* format chunk length */\n  view.setUint32(16, 16, true);\n  /* sample format (raw) */\n  view.setUint16(20, format, true);\n  /* channel count */\n  view.setUint16(22, numChannels, true);\n  /* sample rate */\n  view.setUint32(24, sampleRate, true);\n  /* byte rate (sample rate * block align) */\n  view.setUint32(28, sampleRate * blockAlign, true);\n  /* block align (channel count * bytes per sample) */\n  view.setUint16(32, blockAlign, true);\n  /* bits per sample */\n  view.setUint16(34, bitDepth, true);\n  /* data chunk identifier */\n  writeString(view, 36, \"data\");\n  /* data chunk length */\n  view.setUint32(40, samples.length * bytesPerSample, true);\n  if (format === 1) {\n    // Raw PCM\n    floatTo16BitPCM(view, 44, samples);\n  } else {\n    writeFloat32(view, 44, samples);\n  }\n\n  return buffer;\n}\n\nfunction interleave(inputL, inputR) {\n  var length = inputL.length + inputR.length;\n  var result = new Float32Array(length);\n\n  var index = 0;\n  var inputIndex = 0;\n\n  while (index < length) {\n    result[index++] = inputL[inputIndex];\n    result[index++] = inputR[inputIndex];\n    inputIndex++;\n  }\n  return result;\n}\n\nfunction writeFloat32(output, offset, input) {\n  for (var i = 0; i < input.length; i++, offset += 4) {\n    output.setFloat32(offset, input[i], true);\n  }\n}\n\nfunction floatTo16BitPCM(output, offset, input) {\n  for (var i = 0; i < input.length; i++, offset += 2) {\n    var s = Math.max(-1, Math.min(1, input[i]));\n    output.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);\n  }\n}\n\nfunction writeString(view, offset, string) {\n  for (var i = 0; i < string.length; i++) {\n    view.setUint8(offset + i, string.charCodeAt(i));\n  }\n}\n","module.exports = __webpack_public_path__ + \"static/media/audio-editor-info.e99da68b.gif\";","module.exports = __webpack_public_path__ + \"static/media/blob_excited.18b76bb7.gif\";","module.exports = __webpack_public_path__ + \"static/media/blob-octopus.5ab1a0d0.gif\";","module.exports = __webpack_public_path__ + \"static/media/cool-doge.53f84b45.gif\";","module.exports = __webpack_public_path__ + \"static/media/hand_wave.8c84d0f5.gif\";","module.exports = __webpack_public_path__ + \"static/media/koopa_troopa_mario_kart.03b86374.gif\";","module.exports = \"data:image/gif;base64,R0lGODlhIAAgAJEBAORYEACI//TUtCAgICH/C05FVFNDQVBFMi4wAwEAAAAh+QQJFAABACwAAAAAIAAgAAACkIyPBsubD19rsaaJgbV5bth1HxJmY1CWXxpywAAPbCxr4BvPuU1OggDrwH6YXuMXzAwFxQMGSYsumwofUBolelAZqHbhZbIY4eP1O/6pxeA1O+02r8f0up1efbr3Imd3H2dSAUgocGJQCPhBk7i3GNPoZoEFWUgTQblEeAmRWbkmhek5sBda4YlgOpmZGhVRAAAh+QQJFAABACwAAAAAIAAgAAACkYyPBsubD19rsaaJgbV5bth1HxJmY1CWXxpywAAPbCxr4BvPuU1OggDrwH6YXuMXzAwFxQMGSYsumwofUBolelAZqHbhZbIY4eP1O/6pxeA1O+02r8f0up1efbr3Imd3H2dSAUgocGJQCHgYkLhH89Ho9lhBk4gVE1FZeAmTmSXJ2Qkh5Rg6YCGFEPqRerB6UAAAOw==\"","module.exports = \"data:image/gif;base64,R0lGODlhMgAyAKIGAP///wAAAP8AAMzMzMwAAP+Zmf///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpEMjRGNkY3NUE0OTdFMTExQjQ5OEYzMkExNDhFNTM3RiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozQzJBMjhFMjk3RUIxMUUxOEFFQkM2MjNBOEY0RDE4QiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozQzJBMjhFMTk3RUIxMUUxOEFFQkM2MjNBOEY0RDE4QiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1LjEgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkRCNEY2Rjc1QTQ5N0UxMTFCNDk4RjMyQTE0OEU1MzdGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkQyNEY2Rjc1QTQ5N0UxMTFCNDk4RjMyQTE0OEU1MzdGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEBRQABgAsAAAAADIAMgAAA/9outz+MMppgr04W8qh/lgnMmA5Sh+hCmzrCkWsnUu6vm9czHSlqQRcTpY5XQDIJEDIZA2eyUvnqEQ2mc9BdMOhVq/C7DYw8SbBaIEYKX2YrenrGtB2vJfx5rzeuGSvVYF6T3wkFn9NgV9YhFx2h0+AimeMA4UXQHJQk4tCOm2YN5WcnTifXKFBg1qklJ5EZD4Bmautrk2gFrSjtnhXuQG3OHOtiWyoFsIvxKTGdMjBcLy2zsCCw5vUy9nWpdhZ4JHT3Uqa4eC1x7F3LUDu5+HuonvQ1wLy+Pn4LfTryZ36Aubjxw1aFnwlEmbAlwXYQXkKI86S19DgE4QSEzJsFKtqBohAd0KC8PCxishoSky4KZnyX0uUY3hE8JNtDEiXNzuWgcTqZU5OhWby/GkSZ1GdKIb26hWUZABmSyc1Xfm0ZlSpjqbwhMf13FQKNLuKrYhURNixYr9qzTiyxyO2H9y+hVtErt27eO0mAAAh+QQFFAAGACwEAAQAKgAjAAAD12i6vPAwvkarZTKDy7uWXTiM2Ac1QlqsIumYE5MKa9EOJYyqrEX8owEsxpnVKD9CcLjpGHuM5HIYetoayUVwO5p5UwYq9qflBr/esG5MKJsH6Jna9Gpa4t+ggnm64L16c0xFfymBfEQVhYYuiHaKi4diFRmFkhohlX+XGZkSlo0fbjNTIAZxnKYGZ4xCH3+rbwukXa0msG84CjNJtK4aScFkubMpvbaiITtexwKlncoyX1nR1UjC1tkLwm3a2dTKfd7a4uPW5ebR6BwB7ebrF+0B74kd8hQJACH5BAUUAAYALAQABAAqACMAAAO6aLrcziDGR6tdct7NM+ANIRJDuXkSaIykeaEax5bDCatCruc0dKuL3a6H+QENQh1RAfuoUopkzkCr1pDSChSbpFpdUoE2FvZ+o1kKChheOtY4qbsBB7Vdjzrnfs172HJ4bx5dBjd8YxmFh4F9g4pCTGuIdE1CPU0ASXOGlkMmmVyRCks0iKFlpF8lOiwtNaGuOgurrDmumE1HDK0zoLq7wcLDxMXGR1vHLzHKFsnNasySTtDPndTN1tYJACH5BAUUAAYALAQABAAqACMAAAPNaLrcJjBKUaq7+M5dS/7ZNnXgBZwoMKxiC6Fliq6D28KgfNK2iJsymqInuQgbuiMxYlw5ks7HUtAcOGhHx0uX0kKuWKtGwO02mI2w2Fv+LdAGgnxTbcs4FTmBDh7YU3gFenxpK38ogYMTdYcALopFfY2OLV5UfUhlLpZVmVybZ1+YDG2gJV9RT3eLJQwTamGWh6ERsFiyfw16crZZb6IGbbq7xHolNMIMxcvHvamt0Au90dQK09XYDgHb2d3bAd3Z3+HY4+TU5ufQ6eoLCQA7\"","module.exports = __webpack_public_path__ + \"static/media/read-my-mind.b134cbd2.gif\";","module.exports = __webpack_public_path__ + \"static/media/star.ba590042.gif\";","module.exports = __webpack_public_path__ + \"static/media/up-red-arrow.b97377e2.gif\";","module.exports = __webpack_public_path__ + \"static/media/yahoo_games_woman.d4739355.png\";","module.exports = __webpack_public_path__ + \"static/media/error-gif.edb043ea.gif\";","module.exports = \"data:image/gif;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/kirby.f9037c3c.gif\";","module.exports = \"data:image/gif;base64,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\"","module.exports = \"data:image/gif;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/nyancat_big.aba9e034.gif\";","module.exports = \"data:image/gif;base64,R0lGODlhJAAlAPMLAAAAACUsMCBsHCB1K5k0IslDLDKpLGTVXo2vpZfdgLPKwv///wAAAAAAAAAAAAAAACH5BAEAAAwALAAAAAAkACUAAATrkMlJq7046827/2AojmRpnmhqAQDDqhSQHLLRwsCx7Msh3CnAQijsBV4mlmA53BkChAJQBDAcDgbmwpCFTkHVQUKcxSZmv1LuzL66sUfS+vy27gQB6Sj3vhoGPAp5Xx5VfV0KPHFyVlhZeAGJCoQhAEtLAQEIkoMnLACanFAElHuRCwFPSCpFVmkwLjsKVz+lVKeCcKQSq5VXAU4BCU+klrYaa0+KZ3gIAgjHGTKQicLDeFnQe64sqAJceM/RyC8Am5mZAgraQZrOXeMdoAToUfTxG0IKBQX0UQv78EkjQJDgqIICMXxayFBgBAA7\"","module.exports = __webpack_public_path__ + \"static/media/emoji_stream_demo_gif.755a0620.gif\";","module.exports = __webpack_public_path__ + \"static/media/Polka-Dots.72456503.svg\";","import WaveformData from \"waveform-data\";\n\nexport interface ISongEmojiSelections {\n  [songId: string]: IEmojiSelections;\n}\n\nexport interface IEmojiSelections {\n  [emojiId: string]: number;\n}\n\nexport interface userSong {\n  authorName: string;\n  songName: string;\n  fullPath: string;\n  id: string;\n  url: string;\n  gifUrl?: string;\n  gifId?: string;\n  emojiSelections?: IEmojiSelections;\n  liveEmojis?: ILiveEmojis;\n  bullets?: IBullets;\n  isLocked?: boolean;\n  highscores?: { name: string; score: number }[];\n  playCount?: number;\n  name: string;\n}\n\nexport interface ILibraryMetadata {\n  name: string;\n  downloadURL: string;\n}\n\nexport enum WidgetTypes {\n  time = \"time\",\n  joke = \"joke\",\n  shareSong = \"share song\",\n}\n\nexport interface UserFile {\n  file: File | { name: string };\n  waveformData: WaveformData;\n  id: string;\n  audioBuffer: AudioBuffer;\n}\n\nexport interface UserFiles {\n  [key: string]: UserFile;\n}\n\nexport const ItemTypes = {\n  BOX: \"BOX\",\n  TRACK: \"TRACK\",\n  WIDGET: \"WIDGET\",\n};\n\nexport interface DragItem {\n  type: string;\n  id: string;\n  top: number;\n  left: number;\n}\n\nexport interface DragItemTrack {\n  index: number;\n  id: string;\n  type: string;\n}\n\nexport interface ITrack {\n  id: string;\n  waveformData: WaveformData;\n  referenceId: string;\n}\n\nexport enum ACTIONS {\n  dragAndDropFile = \"drag and drop file\",\n  selectFromFolder = \"select from folder\",\n  //   selectFromLibrary = \"select from library\",\n}\n\nexport interface IUserUpload {\n  _id: string;\n  songName: string;\n  authorName: string;\n  url: string;\n}\n\nexport interface ILiveEmojis {\n  [timestamp: string]: string[];\n}\n\nexport interface IBullets {\n  [timestamp: string]: string[];\n}\n","import { ITrack, UserFiles } from \"./types\";\n\nimport WaveformData from \"waveform-data\";\nimport audioBufferToWav from \"./audioBufferToWav\";\n\n// @ts-ignore\nconst AudioContext = window.AudioContext || window.webkitAudioContext;\nconst audioContext = new AudioContext();\n\nexport function concatBuffer(buffers: AudioBuffer[]) {\n  const buffLength = buffers.length;\n  const channels = [];\n  let totalDuration = 0;\n\n  for (var a = 0; a < buffLength; a++) {\n    channels.push(buffers[a].numberOfChannels); // Store all number of channels to choose the lowest one after\n    totalDuration += buffers[a].duration; // Get the total duration of the new buffer when every buffer will be added/concatenated\n  }\n\n  var numberOfChannels = channels.reduce(function (a, b) {\n    return Math.min(a, b);\n  }); // The lowest value contained in the array channels\n  var tmp = audioContext.createBuffer(\n    numberOfChannels,\n    audioContext.sampleRate * totalDuration,\n    audioContext.sampleRate\n  ); // Create new buffer\n\n  for (var b = 0; b < numberOfChannels; b++) {\n    var channel = tmp.getChannelData(b);\n    var dataIndex = 0;\n\n    for (var c = 0; c < buffers.length; c++) {\n      try {\n        channel.set(buffers[c].getChannelData(b), dataIndex);\n      } catch (e) {\n        console.log(buffers[c].getChannelData(b));\n        console.log(dataIndex);\n        console.log(buffers.length);\n        console.log(c);\n        console.error(e);\n      }\n      dataIndex += buffers[c].length; // Next position where we should store the next buffer values\n    }\n  }\n  return tmp;\n}\n\nexport const convertAudioBufferToBlob = (buffers: AudioBuffer[]) => {\n  const concat = concatBuffer(buffers);\n  // const buff = concat.getChannelData(1);\n\n  const blob = new Blob([audioBufferToWav(concat)], {\n    type: \"audio/wav\",\n  });\n\n  return blob;\n};\n\nexport const convertTracksToBlob = (tracks: ITrack[], userFiles: UserFiles) => {\n  const toConcatFiles: AudioBuffer[] = tracks.map(\n    (track) => userFiles[track.referenceId].audioBuffer\n  );\n  const blob = convertAudioBufferToBlob(toConcatFiles);\n\n  return blob;\n};\n\nexport function downloadFromUrl(url: string) {\n  // Construct the <a> element\n  var link = document.createElement(\"a\");\n  link.download = \"adventure-audio.wav\";\n  // Construct the uri\n  //   var uri = 'data:text/csv;charset=utf-8;base64,' + someb64data\n  link.href = url;\n  document.body.appendChild(link);\n  link.click();\n  // Cleanup the DOM\n  document.body.removeChild(link);\n}\n\nexport const isiOS = () => {\n  return (\n    [\n      \"iPad Simulator\",\n      \"iPhone Simulator\",\n      \"iPod Simulator\",\n      \"iPad\",\n      \"iPhone\",\n      \"iPod\",\n    ].includes(navigator.platform) ||\n    // iPad on iOS 13 detection\n    (navigator.userAgent.includes(\"Mac\") && \"ontouchend\" in document)\n  );\n};\n\nexport const convertBufferToWaveformData = (\n  audioBuffer: AudioBuffer,\n  scale: number\n) => {\n  const options = {\n    audio_context: audioContext,\n    audio_buffer: audioBuffer,\n    scale,\n  };\n\n  return new Promise<{ waveform: WaveformData; audioBuffer: AudioBuffer }>(\n    (resolve, reject) => {\n      WaveformData.createFromAudio(options, (err, waveform) => {\n        if (err) {\n          reject(err);\n        } else {\n          resolve({ waveform, audioBuffer });\n        }\n      });\n    }\n  );\n};\n\nexport const createWaveform = async (\n  file: File,\n  scale: number\n): Promise<{ waveform: WaveformData; audioBuffer: AudioBuffer }> => {\n  return new Promise((resolve) => {\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      const buffer = reader.result as Buffer;\n\n      audioContext.decodeAudioData(buffer, async (audioBuffer) => {\n        const waveformData = await convertBufferToWaveformData(\n          audioBuffer,\n          scale\n        );\n        resolve(waveformData);\n      });\n    };\n    reader.readAsArrayBuffer(file);\n  });\n};\n","import React from \"react\";\nimport { Tooltip } from \"@material-ui/core\";\n\nconst adventureText = `version ${process.env.REACT_APP_VERSION}. production: leo, mike, jason`;\n\ninterface IAdventureLogo {\n  widget?: JSX.Element;\n}\n\nexport const AdventureLogo = ({ widget }: IAdventureLogo) => (\n  <div\n    style={{\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"flex-start\",\n    }}\n  >\n    <Tooltip title={adventureText}>\n      <div className=\"adventure-logo\">\n        adventure\n        <br />\n        corporation\n      </div>\n    </Tooltip>\n\n    {widget}\n  </div>\n);\n","import React from \"react\";\n\ninterface IAppStateContext {\n  shareSong?: Blob;\n  isIOS: boolean;\n  waveformLength: number;\n}\n\nexport const AppStateContext = React.createContext<IAppStateContext>({\n  isIOS: false,\n  waveformLength: 0,\n});\n","import {\n  IEmojiSelections,\n  ILibraryMetadata,\n  ILiveEmojis,\n  userSong,\n} from \"../types\";\n\nimport React from \"react\";\nimport firebase from \"firebase\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyC19cZLLW3oYWjQxWEFPhdtzSOGWQcgQjQ\",\n  authDomain: \"adventure-ea7cd.firebaseapp.com\",\n  databaseURL: \"https://adventure-ea7cd.firebaseio.com\",\n  projectId: \"adventure-ea7cd\",\n  storageBucket: \"adventure-ea7cd.appspot.com\",\n  messagingSenderId: \"753400311148\",\n  appId: \"1:753400311148:web:f8f56db5a153280f185749\",\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst storage = firebase.storage();\nconst db = firebase.firestore();\n\ninterface firebaseContext {\n  uploadSong: (\n    song: Blob,\n    songName: string,\n    authorName: string,\n    gif?: Blob\n  ) => Promise<string>;\n  getSongs: () => Promise<userSong[]>;\n  getSongURL: (songId: string) => Promise<string>;\n  getLibraryMetadata: () => Promise<ILibraryMetadata[] | Error>;\n  updateEmojis: (songId: string, emojiSelections: IEmojiSelections) => void;\n  updateLiveEmojis: (songId: string, data: any) => void;\n  updateBullets: (songId: string, data: any) => void;\n  updateLiveEmojiPoints: (\n    songId: string,\n    scores: { name: string; score: number }[]\n  ) => void;\n  updatePlayCount: (songId: string, playCount: number) => void;\n  uploadYoutubeVideo: (\n    songId: string,\n    songName: string,\n    url: string,\n    emojis: ILiveEmojis,\n    isLocked: boolean\n  ) => Promise<string>;\n}\n\nexport const FirebaseContext = React.createContext<firebaseContext>({\n  uploadSong: () => Promise.resolve(\"\"),\n  getSongs: () => Promise.resolve([]),\n  getSongURL: () => Promise.resolve(\"\"),\n  getLibraryMetadata: () => Promise.resolve([]),\n  updateEmojis: () => {},\n  updateLiveEmojis: () => {},\n  updateBullets: () => {},\n  updateLiveEmojiPoints: () => {},\n  updatePlayCount: () => {},\n  uploadYoutubeVideo: () => Promise.resolve(\"\"),\n});\n\nexport function withFirebaseContext(Component: JSX.Element) {\n  const firebaseContext: firebaseContext = {\n    getSongURL: (songId) => {\n      return storage.ref(`userSongs/${songId}.wav`).getDownloadURL();\n    },\n    getSongs: () => {\n      //   if (process.env.NODE_ENV === \"development\") {\n      //     return Promise.resolve([]);\n      //   }\n      return new Promise((resolve) => {\n        db.collection(\"userSongs\")\n          .get()\n          .then((result) => {\n            resolve(result.docs.map((doc) => doc.data() as userSong));\n          })\n          .catch((e) => {\n            resolve(e);\n          });\n      });\n    },\n    uploadSong: (\n      blob: Blob,\n      songName: string,\n      authorName: string,\n      gif?: Blob\n    ): Promise<string> => {\n      // if (process.env.NODE_ENV === \"development\") {\n      //   return Promise.resolve(\"abcd-efgh\");\n      // }\n      return new Promise<string>(async (resolve) => {\n        const songId = uuidv4();\n        let gifId: string;\n        let gifUrl: string;\n\n        if (gif) {\n          gifId = uuidv4();\n          const storageRes = await storage\n            .ref(`userGifs/${gifId}.gif`)\n            .put(gif);\n\n          gifUrl = await storageRes.ref.getDownloadURL();\n        }\n        storage\n          .ref(`userSongs/${songId}.wav`)\n          .put(blob)\n          .then(async (snapshot) => {\n            const songUrl = await firebaseContext.getSongURL(songId);\n\n            db.collection(\"userSongs\")\n              .doc(songId)\n              .set({\n                songName,\n                authorName,\n                fullPath: snapshot.metadata.fullPath,\n                url: songUrl,\n                id: songId,\n                gifId,\n                gifUrl,\n              })\n              .then(() => {\n                resolve(songId);\n              });\n          });\n      });\n    },\n    getLibraryMetadata: () => {\n      // if (process.env.NODE_ENV === \"development\") {\n      //   return Promise.resolve([\n      //     { name: \"test1\", downloadURL: \"\" },\n      //     { name: \"test2\", downloadURL: \"\" },\n      //     { name: \"test3\", downloadURL: \"\" },\n      //   ]);\n      // }\n      return new Promise<ILibraryMetadata[] | Error>((resolve) => {\n        storage\n          .ref(\"audio\")\n          .listAll()\n          .then((result) => {\n            try {\n              Promise.all(\n                result.items.map(async (item) => {\n                  const name = item.name;\n                  const downloadURL = (await item.getDownloadURL()) as string;\n                  return { name, downloadURL };\n                })\n              ).then((result) => {\n                resolve(result);\n              });\n            } catch (e) {\n              resolve(e);\n            }\n          })\n          .catch((e) => {\n            resolve(e);\n          });\n      });\n    },\n    updateEmojis: (songId: string, emojiSelections: IEmojiSelections) => {\n      db.collection(\"userSongs\").doc(songId).set(\n        {\n          emojiSelections,\n        },\n        { merge: true }\n      );\n      //   .then(() => {\n      //     resolve(songId);\n      //   });\n    },\n    updateLiveEmojis: (songId: string, data: any) => {\n      db.collection(\"userSongs\").doc(songId).set(\n        {\n          liveEmojis: data,\n        },\n        { merge: true }\n      );\n    },\n    updateBullets: (songId: string, data: any) => {\n      console.log(songId);\n      db.collection(\"userSongs\").doc(songId).set(\n        {\n          bullets: data,\n        },\n        { merge: true }\n      );\n    },\n    updateLiveEmojiPoints: (songId, highscores) => {\n      db.collection(\"userSongs\").doc(songId).set(\n        {\n          highscores,\n        },\n        { merge: true }\n      );\n    },\n    updatePlayCount: (songId, playCount) => {\n      db.collection(\"userSongs\").doc(songId).set(\n        {\n          playCount,\n        },\n        { merge: true }\n      );\n    },\n    uploadYoutubeVideo: (songId, songName, url, emojis, isLocked) => {\n      return new Promise(async (resolve, reject) => {\n        db.collection(\"userSongs\")\n          .doc(songId)\n          .get()\n          .then((result) => {\n            if (result.exists) {\n              reject(new Error(`song with ID ${songId} already exists`));\n            } else {\n              db.collection(\"userSongs\")\n                .doc(songId)\n                .set({\n                  url,\n                  id: songId,\n                  name: songName,\n                  liveEmojis: emojis,\n                  isLocked: isLocked,\n                })\n                .then(() => {\n                  resolve(songId);\n                })\n                .catch(reject);\n            }\n          })\n          .catch(reject);\n      });\n    },\n  };\n\n  return (\n    <FirebaseContext.Provider value={firebaseContext}>\n      {Component}\n    </FirebaseContext.Provider>\n  );\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport \"./css/GIFPreview.css\";\nimport {\n  TextField,\n  IconButton,\n  CircularProgress,\n  Tooltip,\n} from \"@material-ui/core\";\nimport CreateIcon from \"@material-ui/icons/Create\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport { AppStateContext } from \"../contexts/appContext\";\nimport { Share } from \"@material-ui/icons\";\nimport { FirebaseContext } from \"../contexts/firebaseContext\";\n\nexport const GIFPreview = () => {\n  const [authorName, setAuthorName] = useState(\"\");\n  const [songName, setSongName] = useState(\"\");\n  const appStateContext = useContext(AppStateContext);\n  const firebaseContext = useContext(FirebaseContext);\n  const [songUrl, setSongUrl] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [songId, setSongId] = useState(\"\");\n  const inputRef = React.createRef<HTMLInputElement>();\n  const [userGif, setUserGif] = useState<\n    { blob: Blob; url: string } | undefined\n  >();\n\n  useEffect(() => {\n    if (appStateContext.shareSong) {\n      const newSongUrl = URL.createObjectURL(appStateContext.shareSong);\n\n      setSongUrl(newSongUrl);\n    }\n  }, [appStateContext.shareSong]);\n\n  if (songId) {\n    const sharedSongUrl = `${document.location.href}player?id=${songId}`;\n    return (\n      <div className=\"width-100-centered\">\n        <div className=\"gif-preview-container\">\n          <div style={{ fontSize: \"1.2em\", marginBottom: 10 }}>\n            Successful upload!\n          </div>\n          <div>\n            <div>Listen to your song with this shareable link:</div>\n            <div style={{ marginTop: 10 }}>\n              <a target=\"_blank\" rel=\"noopener noreferrer\" href={sharedSongUrl}>\n                {sharedSongUrl}\n              </a>\n              {}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"width-100-centered\">\n      <div className=\"gif-preview-container\">\n        <div className=\"gif-preview-title\">preview</div>\n        <div\n          className=\"add-gif-container\"\n          onClick={() => {\n            inputRef.current?.click();\n          }}\n        >\n          {userGif ? (\n            <img\n              alt=\"preview\"\n              src={userGif.url}\n              style={{ width: \"100%\", height: \"100%\" }}\n            />\n          ) : (\n            <div>click to add gif</div>\n          )}\n        </div>\n\n        <div>\n          <EditableTextfield onChange={setAuthorName} label=\"author name\" />\n          <EditableTextfield onChange={setSongName} label=\"song name\" />\n        </div>\n\n        <audio controls src={songUrl} />\n\n        {isLoading ? (\n          <CircularProgress />\n        ) : (\n          <Tooltip title=\"Share song\">\n            <IconButton\n              onClick={() => {\n                if (!authorName || !songName) {\n                  return window.alert(\"Empty song / author name not allowed\");\n                }\n                if (appStateContext.shareSong) {\n                  setIsLoading(true);\n                  firebaseContext\n                    .uploadSong(\n                      appStateContext.shareSong,\n                      songName,\n                      authorName,\n                      userGif?.blob\n                    )\n                    .then((id) => {\n                      setSongId(id);\n                      setIsLoading(false);\n                    });\n                }\n              }}\n            >\n              <Share />\n            </IconButton>\n          </Tooltip>\n        )}\n      </div>\n      <input\n        ref={inputRef}\n        type=\"file\"\n        onChange={(evt) => {\n          const files = evt.target.files;\n          if (files && files.length) {\n            const file = files[0];\n            const fileUrl = URL.createObjectURL(file);\n            setUserGif({\n              blob: file,\n              url: fileUrl,\n            });\n          }\n        }}\n        style={{ display: \"none\" }}\n      />\n    </div>\n  );\n};\n\ninterface IEditableTextFieldProps {\n  onChange: (value: string) => void;\n  label: string;\n  //   initialValue?: string;\n}\n\nconst EditableTextfield = (props: IEditableTextFieldProps) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const [value, setValue] = useState(\"\");\n\n  //   useEffect(() => {\n  //     setValue(props.initialValue);\n  //   }, [props.initialValue]);\n\n  useEffect(() => {\n    props.onChange(value);\n  }, [value, props.onChange, props]);\n\n  if (isEditing) {\n    return (\n      <div className=\"editable-textfield-container\">\n        <TextField\n          value={value}\n          onChange={(evt) => setValue(evt.target.value)}\n          label={props.label}\n        />\n        <IconButton onClick={() => setIsEditing(false)}>\n          <DoneIcon />\n        </IconButton>\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"editable-textfield-container\">\n        <div style={{ marginRight: 15 }}>{props.label}:</div>\n        <div\n          style={{\n            textDecoration: \"underline\",\n            minWidth: 50,\n            minHeight: 30,\n          }}\n        >\n          {value.length ? value : \"___________\"}\n        </div>\n        <IconButton onClick={() => setIsEditing(true)}>\n          <CreateIcon />\n        </IconButton>\n      </div>\n    );\n  }\n};\n","import { Button, Drawer } from \"@material-ui/core\";\nimport { DragObjectWithType, DropTargetMonitor, useDrop } from \"react-dnd\";\nimport { ILibraryMetadata, UserFiles, WidgetTypes } from \"../types\";\nimport React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport { convertBufferToWaveformData, createWaveform, isiOS } from \"../util\";\n\nimport { AdventureLogo } from \"../components/AdventureLogo\";\nimport { AppStateContext } from \"../contexts/appContext\";\nimport { AudioVisualizer } from \"../components/audioVisualizer\";\nimport { FirebaseContext } from \"../contexts/firebaseContext\";\nimport { IWidgetProps } from \"../components/Widgets/Widget\";\nimport { LibraryButton } from \"../components/LibraryButton\";\nimport { NativeTypes } from \"react-dnd-html5-backend\";\nimport { PlayerLogo } from \"../components/PlayerButton\";\n// import { WidgetButton } from \"../components/WidgetButton\";\nimport update from \"immutability-helper\";\nimport { useHistory } from \"react-router-dom\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nconst WAVEFORM_SCALE = 128;\n\nenum drawerTypes {\n  music = \"music\",\n  widgets = \"widgets\",\n}\n\n// @ts-ignore\nconst AudioContext = window.AudioContext || window.webkitAudioContext;\nconst audioContext = new AudioContext();\n\nexport const CreatePage: React.FC = () => {\n  const [userFiles, setUserFiles] = useState<UserFiles>({});\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\n  const [drawerType, setDrawerType] = useState<drawerTypes | null>(null);\n  const [widgets, setWidgets] = useState<{ [key: string]: IWidgetProps }>({});\n  const [libraryMetadata, setLibraryMetadata] = useState<ILibraryMetadata[]>(\n    []\n  );\n  const [shareSong, setShareSong] = useState<Blob | undefined>();\n  const firebaseContext = useContext(FirebaseContext);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    if (!libraryMetadata.length) {\n      firebaseContext.getLibraryMetadata().then((result) => {\n        if (result instanceof Error) {\n          console.log(\"got error result\", result);\n        } else {\n          setLibraryMetadata(result);\n        }\n      });\n    }\n  }, [libraryMetadata.length, firebaseContext]);\n\n  useEffect(() => {\n    setIsDrawerOpen(!!drawerType);\n  }, [drawerType]);\n\n  const moveWidget = (id: string, left: number, top: number) => {\n    setWidgets(\n      update(widgets, {\n        [id]: {\n          $merge: { left, top },\n        },\n      })\n    );\n  };\n\n  const onShareSong = (blob: Blob) => {\n    setShareSong(blob);\n    if (\n      Object.values(widgets).findIndex(\n        (widget) => widget.type === WidgetTypes.shareSong\n      ) === -1\n    ) {\n      const newWidgetId = uuidv4();\n\n      const newWidgets: {\n        [key: string]: IWidgetProps;\n      } = {\n        [newWidgetId]: {\n          id: newWidgetId,\n          type: WidgetTypes.shareSong,\n          top: 50,\n          left: window.innerWidth / 2 - 200,\n        },\n      };\n\n      setWidgets(update(widgets, { $merge: newWidgets }));\n    }\n  };\n\n  const onClickWidgetItem = (type: WidgetTypes) => () => {\n    const newWidgetId = uuidv4();\n\n    const newWidgets: {\n      [key: string]: IWidgetProps;\n    } = {\n      [newWidgetId]: {\n        id: newWidgetId,\n        type,\n        top: 0,\n        left: 0,\n      },\n    };\n\n    setWidgets(update(widgets, { $merge: newWidgets }));\n  };\n\n  const renderDrawerContent = () => {\n    if (drawerType === drawerTypes.music)\n      return libraryMetadata.map(({ name, downloadURL }) => {\n        return (\n          <div\n            key={name}\n            onClick={() => onClickLibraryItem(name, downloadURL)}\n            className=\"library-item\"\n          >\n            {name}\n          </div>\n        );\n      });\n    else if (drawerType === drawerTypes.widgets) {\n      return (\n        <div>\n          <div\n            className=\"library-item\"\n            onClick={onClickWidgetItem(WidgetTypes.time)}\n          >\n            time\n          </div>\n          <div\n            className=\"library-item\"\n            onClick={onClickWidgetItem(WidgetTypes.joke)}\n          >\n            joke\n          </div>\n        </div>\n      );\n    }\n  };\n\n  const onAddFile = async (file: File) => {\n    const waveForm = await createWaveform(file, WAVEFORM_SCALE);\n    const newId = uuidv4();\n    const newUserFiles = {\n      ...userFiles,\n      [newId]: {\n        file,\n        waveformData: waveForm.waveform,\n        audioBuffer: waveForm.audioBuffer,\n        id: newId,\n      },\n    };\n\n    setUserFiles(newUserFiles);\n  };\n\n  const onClickLibraryItem = (key: string, url: string) => {\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", url, true);\n    request.responseType = \"arraybuffer\";\n    request.onload = function () {\n      var audioData = request.response;\n      audioContext.decodeAudioData(\n        audioData,\n        async (buffer) => {\n          const waveForm = await convertBufferToWaveformData(\n            buffer,\n            WAVEFORM_SCALE\n          );\n          const newId = uuidv4();\n          const newUserFiles = {\n            ...userFiles,\n            [newId]: {\n              file: { name: key },\n              waveformData: waveForm.waveform,\n              audioBuffer: waveForm.audioBuffer,\n              id: newId,\n            },\n          };\n\n          setUserFiles(newUserFiles);\n        },\n        console.error\n      );\n    };\n    request.send();\n  };\n\n  const handleFileDrop = useCallback(\n    (item: DragObjectWithType, monitor: DropTargetMonitor) => {\n      if (monitor) {\n        const files = monitor.getItem().files as { [key: string]: File };\n\n        const newFilesArr = Object.values(files).reduce(\n          (acc: File[], file) => acc.concat(file),\n          []\n        );\n\n        Promise.all(\n          newFilesArr.map((file) => {\n            return createWaveform(file, WAVEFORM_SCALE);\n          })\n        ).then((waveformDataArr) => {\n          const newUserFiles: UserFiles = Object.values(newFilesArr).reduce(\n            (acc: UserFiles, file, index) => {\n              const newId = uuidv4();\n              acc[newId] = {\n                file,\n                waveformData: waveformDataArr[index].waveform,\n                audioBuffer: waveformDataArr[index].audioBuffer,\n                id: newId,\n              };\n              return acc;\n            },\n            {}\n          );\n\n          setUserFiles({ ...userFiles, ...newUserFiles });\n        });\n      }\n    },\n    [userFiles]\n  );\n\n  const [{ canDrop, isOver }, drop] = useDrop({\n    accept: [NativeTypes.FILE],\n    drop(item, monitor) {\n      handleFileDrop(item, monitor);\n    },\n    collect: (monitor) => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop(),\n    }),\n  });\n\n  const isActive = canDrop && isOver;\n\n  return (\n    <AppStateContext.Provider\n      value={{\n        shareSong,\n        isIOS: isiOS(),\n        waveformLength: window.innerWidth < 600 ? 100 : 200,\n      }}\n    >\n      <div\n        ref={drop}\n        style={{\n          display: \"flex\",\n          width: \"100%\",\n          minHeight: \"100vh\",\n          position: \"relative\",\n          flexDirection: \"column\",\n        }}\n      >\n        <div\n          style={{\n            width: \"100%\",\n            display: \"flex\",\n            justifyContent: \"space-between\",\n          }}\n        >\n          <PlayerLogo />\n\n          <Button\n            style={{\n              minWidth: 20,\n              color: \"white\",\n              background: \"grey\",\n              padding: 10,\n              height: 50,\n            }}\n            variant=\"contained\"\n            onClick={() => history.push(\"/player\")}\n          >\n            PLAYER\n          </Button>\n        </div>\n\n        <div\n          style={{ width: \"100%\", display: \"flex\", justifyContent: \"flex-end\" }}\n        >\n          <LibraryButton onClick={() => setDrawerType(drawerTypes.music)} />\n        </div>\n\n        <AudioVisualizer\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n            boxSizing: \"border-box\",\n            flex: 1,\n          }}\n          userFiles={userFiles}\n          onAddFile={onAddFile}\n          widgets={widgets}\n          moveWidget={moveWidget}\n          onShareSong={onShareSong}\n        />\n\n        <AdventureLogo\n        // widget={\n        //   <WidgetButton onClick={() => setDrawerType(drawerTypes.widgets)} />\n        // }\n        />\n\n        <Drawer\n          variant=\"persistent\"\n          anchor=\"right\"\n          open={isDrawerOpen}\n          onClose={() => setDrawerType(null)}\n        >\n          <div style={{ width: 400, maxWidth: \"80vw\", padding: 10 }}>\n            <div\n              style={{\n                width: \"100%\",\n                display: \"flex\",\n                justifyContent: \"flex-end\",\n              }}\n            >\n              <Button\n                style={{\n                  minWidth: 20,\n                  color: \"red\",\n                }}\n                variant=\"contained\"\n                onClick={() => setDrawerType(null)}\n              >\n                x\n              </Button>\n            </div>\n            {renderDrawerContent()}\n          </div>\n        </Drawer>\n\n        {isActive && (\n          <div\n            style={{\n              width: \"100%\",\n              height: \"100%\",\n              position: \"absolute\",\n              background: \"lightblue\",\n              opacity: 0.7,\n            }}\n          />\n        )}\n      </div>\n    </AppStateContext.Provider>\n  );\n};\n","import \"../css/Widget.css\";\n\nimport { ItemTypes, WidgetTypes } from \"../../types\";\nimport React, { useCallback, useEffect, useState } from \"react\";\n\nimport { GIFPreview } from \"../GIFPreview\";\nimport { useDrag } from \"react-dnd\";\n\nexport interface IWidgetProps {\n  type: WidgetTypes;\n  top: number;\n  left: number;\n  id: string;\n}\n\nexport const Widget = (props: IWidgetProps) => {\n  const { top, left, id, type } = props;\n\n  const [, drag] = useDrag({\n    item: { id, left, top, type: ItemTypes.WIDGET },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n  });\n\n  return (\n    <div\n      ref={drag}\n      className=\"widget-container\"\n      style={{\n        left,\n        top,\n      }}\n    >\n      {renderWidget(type)}\n    </div>\n  );\n};\n\nconst renderWidget = (type: WidgetTypes) => {\n  switch (type) {\n    case WidgetTypes.time:\n      return <WidgetTime />;\n    case WidgetTypes.joke:\n      return <JokeWidget />;\n    case WidgetTypes.shareSong:\n      return <GIFPreview />;\n    // add widget case here for new widget types\n    default:\n      return null;\n  }\n};\n\n//Joke Widget\nconst JokeWidget = () => {\n  const [setup, setSetup] = useState(\"loading\");\n  const [punchline, setPunchline] = useState(\"loading\");\n  const audio = new Audio(\n    \"http://static1.grsites.com/archive/sounds/comic/comic002.mp3\"\n  );\n  const newJoke = useCallback(() => {\n    fetch(\"https://official-joke-api.appspot.com/random_joke\")\n      .then((res) => res.json())\n      .then((res2) => {\n        setSetup(res2.setup);\n        setPunchline(res2.punchline);\n      });\n    audio.play();\n  }, [audio]);\n\n  useEffect(() => {\n    newJoke();\n  }, [newJoke]);\n  return (\n    <div className=\"default\">\n      <div className=\"joke-container\">\n        <h3 className=\"title\">Press The Button To Get A Random Joke!</h3>\n        <button className=\"getJoke\" onClick={newJoke}>\n          Tell Me Something Funny!\n        </button>\n      </div>\n      <div className=\"Joke\">\n        Setup: {setup} <br />\n        Punchline: {punchline} <br />\n      </div>\n    </div>\n  );\n};\n\n// example widget\n\nconst WidgetTime = () => {\n  const [time, setTime] = useState(\"\");\n\n  useEffect(() => {\n    setInterval(() => {\n      const newTime = getFormattedTime();\n      setTime(newTime);\n    }, 100);\n  }, []);\n\n  return (\n    <div>\n      The time is <div>{time}</div>\n    </div>\n  );\n};\n\nconst getFormattedTime = (): string => {\n  const newDate = new Date(Date.now());\n\n  return `${newDate.getHours()}:${newDate\n    .getMinutes()\n    .toString()\n    .padStart(2, \"0\")}:${newDate\n    .getSeconds()\n\n    .toString()\n    .padStart(2, \"0\")}:${newDate\n    .getMilliseconds()\n\n    .toString()\n    .padStart(2, \"0\")}`;\n};\n","import { DragItemTrack, ItemTypes } from \"../types\";\nimport { DropTargetMonitor, XYCoord, useDrag, useDrop } from \"react-dnd\";\nimport React, { useContext, useRef } from \"react\";\n\nimport { AppStateContext } from \"../contexts/appContext\";\nimport { Button } from \"@material-ui/core\";\nimport WaveformData from \"waveform-data\";\n\ninterface IAudioTrackProps {\n  index: number;\n  id: string;\n  moveTrack: (dragIndex: number, hoverIndex: number) => void;\n  waveformData: WaveformData;\n  isHovering: boolean;\n  setIsHovering: (isHovering: boolean) => void;\n  onClickDelete: () => void;\n}\n\nexport const AudioTrack = React.forwardRef(\n  (props: IAudioTrackProps, canvasRef: React.Ref<HTMLCanvasElement>) => {\n    const { index, id, moveTrack } = props;\n    const { isIOS } = useContext(AppStateContext);\n\n    const ref = useRef<HTMLDivElement>(null);\n    const [, drop] = useDrop({\n      accept: ItemTypes.TRACK,\n      hover(item: DragItemTrack, monitor: DropTargetMonitor) {\n        if (!ref.current) {\n          return;\n        }\n        const dragIndex = item.index;\n        const hoverIndex = index;\n\n        // Don't replace items with themselves\n        if (dragIndex === hoverIndex) {\n          return;\n        }\n\n        // Determine rectangle on screen\n        const hoverBoundingRect = ref.current?.getBoundingClientRect();\n\n        // Get horizontal middle\n        const hoverMiddleX =\n          (hoverBoundingRect.left - hoverBoundingRect.right) / 2;\n\n        // Determine mouse position\n        const clientOffset = monitor.getClientOffset();\n\n        // Get pixels to the right\n        const hoverClientX =\n          (clientOffset as XYCoord).x - hoverBoundingRect.right;\n\n        // Only perform the move when the mouse has crossed half of the items width\n\n        // Dragging left\n        if (dragIndex > hoverIndex && hoverClientX > hoverMiddleX) {\n          return;\n        }\n\n        // Dragging right\n        if (dragIndex < hoverIndex && hoverClientX < hoverMiddleX) {\n          return;\n        }\n\n        // Time to actually perform the action\n        moveTrack(dragIndex, hoverIndex);\n\n        // Note: we're mutating the monitor item here!\n        // Generally it's better to avoid mutations,\n        // but it's good here for the sake of performance\n        // to avoid expensive index searches.\n        item.index = hoverIndex;\n      },\n    });\n\n    const [{ isDragging }, drag] = useDrag({\n      item: { type: ItemTypes.TRACK, id, index },\n      collect: (monitor: any) => ({\n        isDragging: monitor.isDragging(),\n      }),\n    });\n\n    const opacity = isDragging ? 0 : 1;\n    drag(drop(ref));\n    return (\n      <div\n        ref={ref}\n        style={{\n          opacity,\n          position: \"relative\",\n          background: props.isHovering ? \"lightgrey\" : \"transparent\",\n          cursor: \"move\",\n          height: isIOS ? 120 : 150,\n        }}\n      >\n        <canvas\n          ref={canvasRef}\n          width={props.waveformData.length}\n          height={isIOS ? 120 : 150}\n          style={{ border: \"1px solid black\" }}\n          onMouseOver={() => props.setIsHovering(true)}\n          onMouseLeave={() => props.setIsHovering(false)}\n        />\n        <div\n          style={{\n            position: \"absolute\",\n            top: 0,\n            right: 0,\n            height: isIOS ? 120 : 150,\n          }}\n        >\n          <Button\n            style={{\n              minWidth: 20,\n              display: props.isHovering ? \"block\" : \"none\",\n              color: \"red\",\n            }}\n            onMouseOver={() => props.setIsHovering(true)}\n            variant=\"contained\"\n            onClick={props.onClickDelete}\n          >\n            x\n          </Button>\n        </div>\n      </div>\n    );\n  }\n);\n","import { Pause, PlayCircleFilledRounded } from \"@material-ui/icons\";\n\nimport { IconButton } from \"@material-ui/core\";\nimport React from \"react\";\n\ninterface IPlayerButtonProps {\n  onClick: () => void;\n  style?: React.CSSProperties;\n  isPlaying: boolean;\n}\n\nexport const PlayerButton = (props: IPlayerButtonProps) => (\n  <div className=\"player-button\">\n    <IconButton onClick={props.onClick}>\n      {props.isPlaying ? (\n        <Pause\n          style={{\n            color: \"orange\",\n            width: 50,\n            height: 50,\n            marginTop: -10,\n          }}\n        />\n      ) : (\n        <PlayCircleFilledRounded\n          style={{\n            color: \"orange\",\n            width: 50,\n            height: 50,\n            marginTop: -10,\n            ...props.style,\n          }}\n        />\n      )}\n    </IconButton>\n    <div style={{ userSelect: \"none\" }}>\n      {props.isPlaying ? \"pause\" : \"play\"}\n    </div>\n  </div>\n);\n\nexport const PlayerLogo = () => (\n  <div className=\"player-logo\">\n    <IconButton disabled={true}>\n      <PlayCircleFilledRounded\n        style={{ color: \"orange\", width: 50, height: 50 }}\n      />\n    </IconButton>\n    player\n  </div>\n);\n","import {\n  ACTIONS,\n  DragItem,\n  ITrack,\n  ItemTypes,\n  UserFiles,\n} from \"../types/index\";\nimport { Add, CloudDownload, Info, Remove, Share } from \"@material-ui/icons\";\nimport { DropTargetMonitor, useDrop } from \"react-dnd\";\nimport { IconButton, Popover, Tooltip } from \"@material-ui/core\";\nimport React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport { Theme, createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { convertAudioBufferToBlob, convertBufferToWaveformData } from \"../util\";\n\nimport { AppStateContext } from \"../contexts/appContext\";\nimport { AudioTrack } from \"./AudioTrack\";\nimport { PlayerButton } from \"./PlayerButton\";\nimport infoGif from \"../assets/audio-editor-info.gif\";\nimport update from \"immutability-helper\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    popover: {\n      pointerEvents: \"none\",\n    },\n  })\n);\n\ninterface IAudioTrackListProps {\n  userFiles: UserFiles;\n  onClickDownload: (tracks: ITrack[]) => void;\n  onAddFile: (file: File) => void;\n\n  onActionClick: (action: ACTIONS) => void;\n  onClickShare: (tracks: ITrack[]) => void;\n}\n\nexport const AudioTrackList = (props: IAudioTrackListProps) => {\n  const [tracks, setTracks] = useState<ITrack[]>([]);\n  const [isPlayingSong, setPlayingSong] = useState(false);\n  const [audio, setAudio] = useState(new Audio());\n  const [isHoveringId, setIsHoveringId] = useState<string | null>(null);\n  const timeListRef = React.createRef<HTMLDivElement>();\n  const [scale, setScale] = useState(512);\n  const { isIOS } = useContext(AppStateContext);\n  const classes = useStyles();\n\n  const [infoAnchorEl, setInfoAnchorEl] = React.useState<HTMLElement | null>(\n    null\n  );\n\n  const handlePopoverOpen = (\n    event: React.MouseEvent<HTMLElement, MouseEvent>\n  ) => {\n    //@ts-ignore\n    setInfoAnchorEl(event.currentTarget);\n  };\n\n  const handlePopoverClose = () => {\n    setInfoAnchorEl(null);\n  };\n\n  const open = Boolean(infoAnchorEl);\n\n  const [boxes, setBoxes] = useState<{\n    [key: string]: {\n      top: number;\n      left: number;\n    };\n  }>({});\n\n  const canvasRefs: React.Ref<HTMLCanvasElement>[] = Array.from({\n    length: tracks.length,\n  }).map((_) => {\n    return React.createRef();\n  });\n\n  const renderCanvas = useCallback(() => {\n    const newBoxes: {\n      [key: string]: {\n        top: number;\n        left: number;\n      };\n    } = {};\n    tracks.forEach((track, index) => {\n      const { waveformData, id } = track;\n      if (!boxes[id])\n        newBoxes[id] = {\n          top: 0,\n          left: 0,\n        };\n      const scaleY = (amplitude: number, height: number) => {\n        const range = 256;\n        const offset = 128;\n\n        return height - ((amplitude + offset) * height) / range;\n      };\n\n      //@ts-ignore\n      const canvas = canvasRefs[index].current;\n      if (!canvas) return;\n\n      const ctx = canvas.getContext(\"2d\");\n      if (!ctx) return;\n      ctx.beginPath();\n\n      const channel = waveformData.channel(0);\n\n      // Loop forwards, drawing the upper half of the waveform\n      for (let x = 0; x < waveformData.length; x++) {\n        const val = channel.max_sample(x);\n\n        ctx.lineTo(x + 0.5, scaleY(val, canvas.height) + 0.5);\n      }\n\n      // Loop backwards, drawing the lower half of the waveform\n      for (let x = waveformData.length - 1; x >= 0; x--) {\n        const val = channel.min_sample(x);\n\n        ctx.lineTo(x + 0.5, scaleY(val, canvas.height) + 0.5);\n      }\n\n      ctx.closePath();\n      ctx.stroke();\n      ctx.fill();\n    });\n    setBoxes(update(boxes, { $merge: newBoxes }));\n  }, [tracks, boxes, canvasRefs]);\n\n  useEffect(() => {\n    if (tracks.length) {\n      renderCanvas();\n    }\n  }, [tracks, renderCanvas]);\n\n  const moveTrack = useCallback(\n    (dragIndex: number, hoverIndex: number) => {\n      const dragTicket = tracks[dragIndex];\n      setTracks(\n        update(tracks, {\n          $splice: [\n            [dragIndex, 1],\n            [hoverIndex, 0, dragTicket],\n          ],\n        })\n      );\n    },\n    [tracks]\n  );\n\n  const onDrop = async (item: DragItem, monitor: DropTargetMonitor) => {\n    const newTrack = props.userFiles[item.id];\n    let waveformData = newTrack.waveformData;\n    waveformData = (\n      await convertBufferToWaveformData(newTrack.audioBuffer, scale)\n    ).waveform;\n    setTracks(\n      tracks.concat({\n        ...newTrack,\n        id: uuidv4(),\n        referenceId: item.id,\n        waveformData,\n      })\n    );\n  };\n\n  const [{ canDrop, isOver }, drop] = useDrop({\n    accept: ItemTypes.BOX,\n    drop(item, monitor) {\n      //@ts-ignore\n      onDrop(item, monitor);\n    },\n    collect: (monitor) => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop(),\n    }),\n  });\n\n  const changeSongScale = useCallback(\n    (scale: number) => {\n      Promise.all(\n        tracks.map((track) => {\n          const userFile = props.userFiles[track.referenceId];\n          const waveformData = convertBufferToWaveformData(\n            userFile.audioBuffer,\n            scale\n          );\n          return waveformData;\n        })\n      ).then((waveformDataArr) => {\n        const newTracks: ITrack[] = [];\n        waveformDataArr.forEach((data, index) => {\n          if (!data) return;\n          const track = tracks[index];\n          newTracks.push({ ...track, waveformData: data?.waveform });\n        });\n        setTracks(newTracks);\n      });\n    },\n    [tracks, props.userFiles]\n  );\n\n  const isActive = canDrop && isOver;\n  const isEmptyTracklist = !tracks.length;\n\n  return (\n    <div className=\"audio-tracklist-container\">\n      <ActionLinks onActionClick={props.onActionClick} />\n\n      <div>arrange</div>\n\n      <div style={{ display: \"flex\", flexDirection: \"column\", width: \"100%\" }}>\n        <div>\n          <Tooltip title=\"zoom in\">\n            <IconButton\n              onClick={() => {\n                const newScale = scale / 2;\n                setScale(newScale);\n                changeSongScale(newScale);\n              }}\n            >\n              <Add />\n            </IconButton>\n          </Tooltip>\n          <Tooltip title=\"zoom out\">\n            <IconButton\n              onClick={() => {\n                const newScale = scale * 2;\n                setScale(newScale);\n                changeSongScale(newScale);\n              }}\n            >\n              <Remove />\n            </IconButton>\n          </Tooltip>\n        </div>\n        <div\n          style={{\n            fontSize: \"1em\",\n            textAlign: \"center\",\n            color: \"blue\",\n            visibility: isActive ? \"visible\" : \"hidden\",\n          }}\n        >\n          copy track\n        </div>\n        <div\n          style={{ backgroundColor: isActive ? \"lightblue\" : \"inherit\" }}\n          className=\"tracklist-container\"\n          ref={drop}\n          onScroll={(evt) => {\n            if (timeListRef.current)\n              // @ts-ignore\n              timeListRef.current.scrollLeft = evt.target.scrollLeft;\n          }}\n        >\n          <PlayLine\n            pixelsPerSecond={\n              tracks.length ? tracks[0].waveformData.pixels_per_second : 0\n            }\n            audio={audio}\n            height={isIOS ? 120 : \"100%\"}\n          />\n\n          {isEmptyTracklist && (\n            <div\n              style={{\n                width: \"100%\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                display: \"flex\",\n              }}\n            >\n              edit\n              <div\n                onMouseEnter={handlePopoverOpen}\n                onMouseLeave={handlePopoverClose}\n              >\n                <Info style={{ width: 20, marginBottom: 5 }} />\n              </div>\n            </div>\n          )}\n          {tracks.map((track, i) => {\n            return (\n              <AudioTrack\n                id={track.id}\n                key={track.id}\n                index={i}\n                moveTrack={moveTrack}\n                ref={canvasRefs[i]}\n                waveformData={track.waveformData}\n                setIsHovering={(isHovering) => {\n                  if (isHovering) {\n                    setIsHoveringId(track.id);\n                  } else setIsHoveringId(null);\n                }}\n                isHovering={isHoveringId === track.id}\n                onClickDelete={() => {\n                  const newTracks = [\n                    ...tracks.slice(0, i),\n                    ...tracks.slice(i + 1),\n                  ];\n                  setTracks(newTracks);\n                }}\n              />\n            );\n          })}\n        </div>\n\n        {tracks.length && (\n          <div\n            style={{\n              width: \"100%\",\n              display: \"flex\",\n              alignItems: \"center\",\n              overflowX: \"hidden\",\n            }}\n            ref={timeListRef}\n          >\n            {Array.from({ length: 100 }).map((_, index) => {\n              // todo eventually calculate this, don't set to 100\n              return (\n                <div\n                  key={index}\n                  style={{\n                    width: 30,\n                    marginRight: 40,\n                    marginTop: 10,\n                    borderLeft: \"1px solid black\",\n                  }}\n                >\n                  {(\n                    tracks[0].waveformData.seconds_per_pixel *\n                    70 *\n                    index\n                  ).toFixed(1)}\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n\n      <div\n        style={{\n          width: \"100%\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"flex-start\",\n        }}\n      >\n        <Tooltip title=\"Download\">\n          <IconButton\n            style={{ width: \"fit-content\" }}\n            onClick={() => props.onClickDownload(tracks)}\n          >\n            <CloudDownload\n              style={{ width: 50, color: \"#36ade3\", height: 30 }}\n            />\n          </IconButton>\n        </Tooltip>\n\n        <div style={{ height: 105 }}>\n          <PlayerButton\n            isPlaying={isPlayingSong}\n            onClick={() => {\n              if (isPlayingSong) {\n                audio.pause();\n                setPlayingSong(false);\n              } else if (tracks.length) {\n                const toConcatFiles: AudioBuffer[] = tracks.map(\n                  (track) => props.userFiles[track.referenceId].audioBuffer\n                );\n\n                const blob = convertAudioBufferToBlob(toConcatFiles);\n\n                const newAudioUrl = URL.createObjectURL(blob);\n\n                const newAudio = new Audio(newAudioUrl);\n                setAudio(newAudio);\n                newAudio.play();\n                setPlayingSong(true);\n\n                newAudio.onended = () => {\n                  setPlayingSong(false);\n                };\n              }\n            }}\n          />\n        </div>\n\n        <Tooltip title=\"Share\">\n          <IconButton\n            style={{ width: \"fit-content\" }}\n            onClick={() => props.onClickShare(tracks)}\n          >\n            <Share style={{ width: 50, color: \"#75d56c\", height: 30 }} />\n          </IconButton>\n        </Tooltip>\n      </div>\n      <Popover\n        id=\"mouse-over-popover\"\n        className={classes.popover}\n        open={open}\n        anchorEl={infoAnchorEl}\n        onClose={handlePopoverClose}\n        disableRestoreFocus\n      >\n        <img\n          alt=\"visual instructions\"\n          style={{ width: \"100%\" }}\n          src={infoGif}\n        />\n      </Popover>\n    </div>\n  );\n};\n\ninterface IActionLinksProps {\n  onActionClick: (action: ACTIONS) => void;\n}\n\nconst ActionLinks = (props: IActionLinksProps) => {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"fit-content\",\n        alignItems: \"center\",\n      }}\n    >\n      {Object.values(ACTIONS).map((action) => (\n        <div\n          key={action}\n          onClick={() => props.onActionClick(action)}\n          className=\"action-link\"\n        >\n          {action}\n        </div>\n      ))}\n    </div>\n  );\n};\n\ninterface IPlayLineProps {\n  audio: HTMLAudioElement;\n  pixelsPerSecond: number;\n  height: string | number;\n}\n\nconst PlayLine = (props: IPlayLineProps) => {\n  const [position, setPosition] = useState(0);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setPosition(\n        props.audio.currentTime * props.pixelsPerSecond // / waveformModifier\n      );\n    }, 50);\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, [props.audio, props.pixelsPerSecond]);\n\n  return (\n    <div\n      style={{\n        width: 5,\n        background: \"lightgreen\",\n        height: props.height,\n        position: \"absolute\",\n        left: position,\n        zIndex: 1,\n        opacity: 0.7,\n      }}\n    />\n  );\n};\n","import { ItemTypes, UserFile } from \"../types\";\nimport React, { useContext } from \"react\";\n\nimport { AppStateContext } from \"../contexts/appContext\";\nimport { useDrag } from \"react-dnd\";\n\ninterface IWaveFormItemProps {\n  userFile: UserFile;\n  top: number;\n  left: number;\n}\n\nexport const WaveformItem = React.forwardRef(\n  (props: IWaveFormItemProps, ref: React.Ref<HTMLCanvasElement>) => {\n    const { userFile, top, left } = props;\n    const { file, id } = userFile;\n    const { waveformLength } = useContext(AppStateContext);\n\n    const [, drag] = useDrag({\n      item: { id, left, top, type: ItemTypes.BOX },\n      collect: (monitor) => ({\n        isDragging: monitor.isDragging(),\n      }),\n    });\n\n    return (\n      <div\n        ref={drag}\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          width: waveformLength,\n          left,\n          top,\n          position: \"absolute\",\n          cursor: \"move\",\n        }}\n      >\n        <>\n          <div>{file.name}</div>\n          <canvas\n            ref={ref}\n            width={waveformLength}\n            height={150}\n            style={{ border: \"1px solid black\" }}\n          />\n        </>\n      </div>\n    );\n  }\n);\n","import \"./css/audioVisualizer.css\";\n\nimport { ACTIONS, DragItem, ITrack, ItemTypes, UserFiles } from \"../types\";\nimport { IWidgetProps, Widget } from \"./Widgets/Widget\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { XYCoord, useDrop } from \"react-dnd\";\nimport { convertTracksToBlob, downloadFromUrl } from \"../util\";\n\nimport { AudioTrackList } from \"./AudioTrackList\";\nimport { WaveformItem } from \"./waveformItem\";\nimport update from \"immutability-helper\";\n\ninterface IAudioVisualizerProps {\n  userFiles: UserFiles;\n  style?: React.CSSProperties;\n  onAddFile: (file: File) => void;\n  widgets: { [key: string]: IWidgetProps };\n  moveWidget: (id: string, left: number, top: number) => void;\n  onShareSong: (song: Blob) => void;\n}\n\n// todo create context with user files\n\nexport const AudioVisualizer = (props: IAudioVisualizerProps) => {\n  const userFilesArr = Object.values(props.userFiles);\n\n  const [boxes, setBoxes] = useState<{\n    [key: string]: {\n      top: number;\n      left: number;\n    };\n  }>({});\n\n  const canvasRefs: React.Ref<HTMLCanvasElement>[] = Array.from({\n    length: userFilesArr.length,\n  }).map((_) => {\n    return React.createRef();\n  });\n\n  const renderCanvas = useCallback(() => {\n    const newBoxes: {\n      [key: string]: {\n        top: number;\n        left: number;\n      };\n    } = {};\n    userFilesArr.forEach((userFile, index) => {\n      const { waveformData, id } = userFile;\n      if (!boxes[id])\n        newBoxes[id] = {\n          top: 0,\n          left: 0,\n        };\n      const scaleY = (amplitude: number, height: number) => {\n        const range = 256;\n        const offset = 128;\n\n        return height - ((amplitude + offset) * height) / range;\n      };\n\n      //@ts-ignore\n      const canvas = canvasRefs[index].current;\n      if (!canvas) return;\n\n      const ctx = canvas.getContext(\"2d\");\n      if (!ctx) return;\n      ctx.beginPath();\n\n      const channel = waveformData.channel(0);\n\n      // Loop forwards, drawing the upper half of the waveform\n      for (let x = 0; x < waveformData.length; x++) {\n        const val = channel.max_sample(x);\n\n        ctx.lineTo(x + 0.5, scaleY(val, canvas.height) + 0.5);\n      }\n\n      // Loop backwards, drawing the lower half of the waveform\n      for (let x = waveformData.length - 1; x >= 0; x--) {\n        const val = channel.min_sample(x);\n\n        ctx.lineTo(x + 0.5, scaleY(val, canvas.height) + 0.5);\n      }\n\n      ctx.closePath();\n      ctx.stroke();\n      ctx.fill();\n    });\n    setBoxes(update(boxes, { $merge: newBoxes }));\n  }, [boxes, canvasRefs, userFilesArr]);\n\n  useEffect(() => {\n    if (userFilesArr.length) {\n      renderCanvas();\n    }\n  }, [props.userFiles, renderCanvas, userFilesArr.length]);\n\n  const [, drop] = useDrop({\n    accept: [ItemTypes.BOX, ItemTypes.WIDGET],\n    drop(item: DragItem, monitor) {\n      const delta = monitor.getDifferenceFromInitialOffset() as XYCoord;\n      if (!delta) return;\n      const left = Math.round(item.left + delta.x);\n      const top = Math.round(item.top + delta.y);\n\n      if (item.type === ItemTypes.BOX) {\n        moveBox(item.id, left, top);\n      }\n\n      if (item.type === ItemTypes.WIDGET) {\n        props.moveWidget(item.id, left, top);\n      }\n      return undefined;\n    },\n  });\n\n  const moveBox = (id: string, left: number, top: number) => {\n    setBoxes(\n      update(boxes, {\n        [id]: {\n          $merge: { left, top },\n        },\n      })\n    );\n  };\n\n  const onClickDownload = (tracks: ITrack[]) => {\n    const blob = convertTracksToBlob(tracks, props.userFiles);\n\n    const newAudioUrl = URL.createObjectURL(blob);\n\n    downloadFromUrl(newAudioUrl);\n  };\n\n  const onActionClick = (action: ACTIONS) => {\n    switch (action) {\n      case ACTIONS.selectFromFolder:\n        const input = document.createElement(\"input\");\n        input.type = \"file\";\n\n        input.onchange = (e: Event) => {\n          if (!e.target) return;\n          //@ts-ignore\n          const file = e.target.files[0];\n          props.onAddFile(file);\n        };\n\n        input.click();\n        break;\n    }\n  };\n\n  const onClickShare = (tracks: ITrack[]) => {\n    if (!tracks.length) {\n      return;\n    }\n    const blob = convertTracksToBlob(tracks, props.userFiles);\n    props.onShareSong(blob);\n  };\n\n  return (\n    <div\n      ref={drop}\n      style={{\n        ...props.style,\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n      }}\n    >\n      {Object.values(props.userFiles).map((userFile, index) => {\n        const box = boxes[userFile.id];\n        return (\n          <WaveformItem\n            key={userFile.id}\n            userFile={userFile}\n            {...box}\n            ref={canvasRefs[index]}\n          />\n        );\n      })}\n      <AudioTrackList\n        userFiles={props.userFiles}\n        onClickDownload={onClickDownload}\n        onAddFile={props.onAddFile}\n        onActionClick={onActionClick}\n        onClickShare={onClickShare}\n      />\n\n      {Object.values(props.widgets).map((widget, index) => {\n        return <Widget key={widget.id} {...widget} />;\n      })}\n    </div>\n  );\n};\n","import { IconButton } from \"@material-ui/core\";\nimport { MusicNoteOutlined } from \"@material-ui/icons\";\nimport React from \"react\";\n\ninterface ILibraryButtonProps {\n  onClick: () => void;\n  text?: string;\n}\n\nexport const LibraryButton = ({ onClick, text }: ILibraryButtonProps) => (\n  <div\n    style={{\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      marginRight: 10,\n    }}\n  >\n    <IconButton onClick={onClick}>\n      <MusicNoteOutlined style={{ height: 40, width: 40 }} />\n    </IconButton>\n    {text || \"library\"}\n  </div>\n);\n","//@ts-ignore\nimport anime from \"animejs/lib/anime.es\";\nimport { IBullets } from \"../types\";\nimport React from \"react\";\nimport ReactPlayer from \"react-player\";\n\ninterface IBulletSectionProps {\n  youtubeRef?: React.RefObject<ReactPlayer>;\n  updateBullets: () => void;\n  submitBullet: (text: string) => void;\n}\n\ninterface IBulletSectionState {\n  inputValue: string;\n}\n\nconst INTERVAL_DELAY = 500;\n\n// potential colors bullet text can use\nconst COLOR_PALLET = [\n  \"#86de89\",\n  \"#49a01c\",\n  \"#3f3ee2\",\n  \"#5bc080\",\n  \"#b1be0f\",\n  \"#8fcf15\",\n  \"#8c4af4\",\n  \"#fd4a50\",\n  \"#06ffe4\",\n  \"#ed5b6f\",\n  \"#f034db\",\n  \"#bf4e37\",\n  \"#9aa46c\",\n  \"#5a446b\",\n  \"#ad9041\",\n  \"#ca141f\",\n];\n\nconst TEXT_HEIGHT = 30;\nconst LETTER_WIDTH = 7.5;\nconst BULLET_SCREEN_OFFSET_TOP = 45;\nconst SEC_PER_LETTER = 0.03;\nconst DURATION_FACTOR = 12;\n\n// const fonts = [\n//   \"fonts\",\n//   \"bangers, cursive\",\n//   \"bio rhyme, serif\",\n//   \"caveat, cursive\",\n//   \"fjalla one, sans-serif\",\n//   \"ibm plex mono, monospace\",\n//   \"lobster, cursive\",\n//   \"noto sans, sans-serif\",\n//   \"patrick hand, cursive\",\n//   \"shadows into light, cursive\",\n//   \"yatra one, cursive\",\n// ];\n\nclass BulletSection extends React.Component<\n  IBulletSectionProps,\n  IBulletSectionState\n> {\n  bullets: IBullets = {};\n  audio: HTMLAudioElement | null = null;\n  interval: NodeJS.Timeout | null = null; //Timeout object\n  id: number = 0;\n  // stores the <lane, timestamp> pair\n  lanes: { [lane: number]: number } = {};\n  availColor: string[] = [];\n  bulletDiv: React.RefObject<HTMLDivElement> = React.createRef();\n  youtubeRef?: React.RefObject<ReactPlayer> = React.createRef();\n\n  constructor(props: IBulletSectionProps) {\n    super(props);\n    this.state = {\n      inputValue: \"\",\n    };\n    this.youtubeRef = props.youtubeRef;\n    this.resetColor();\n  }\n\n  resetColor() {\n    this.availColor = [...COLOR_PALLET];\n  }\n\n  onChangeInput = (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ inputValue: e.target.value });\n  };\n\n  // get all possible lanes in the screen\n  initializeLanes() {\n    if (this.bulletDiv.current) {\n      const screen = this.bulletDiv.current;\n      const options = Math.floor(screen.clientHeight / TEXT_HEIGHT);\n      for (var i = 0; i < options - 1; i++) this.lanes[i * TEXT_HEIGHT] = -1;\n    }\n  }\n\n  // called when the youtube player is ready, to match the dimension of the player\n  matchPlayerDim = () => {\n    if (this.bulletDiv.current) {\n      const screen = this.bulletDiv.current;\n      if (\n        this.youtubeRef &&\n        this.youtubeRef.current &&\n        this.youtubeRef.current.props.height\n      )\n        screen.style.height = this.youtubeRef.current.props.height.toString();\n      if (screen.parentElement)\n        screen.style.top = -screen.parentElement.offsetTop + \"px\";\n      this.initializeLanes();\n    }\n  };\n\n  componentDidMount() {\n    const initializeBulletScreen = () => {\n      if (this.bulletDiv.current) {\n        const screen = this.bulletDiv.current;\n        // move the bullet section to the top of the screen\n        if (screen.parentElement)\n          screen.style.top =\n            -screen.parentElement.offsetTop +\n            (this.props.youtubeRef ? 0 : BULLET_SCREEN_OFFSET_TOP) +\n            \"px\";\n        this.initializeLanes();\n      }\n    };\n    initializeBulletScreen();\n    window.addEventListener(\"resize\", initializeBulletScreen);\n  }\n\n  initializeAudio(audio: HTMLAudioElement) {\n    if (audio) {\n      this.audio = audio;\n      // if the song is playing, we keep outputing emojis every .5 sec\n      this.audio.onplaying = this.onPlayCallback;\n\n      // if paused or ended, stop outputing emojis\n      this.audio.onpause = this.onPauseCallback;\n    }\n  }\n\n  initializeBullets(bullets: IBullets) {\n    this.bullets = bullets;\n  }\n\n  // helper function\n  clearBulletInterval = () => {\n    if (this.interval) {\n      clearInterval(this.interval);\n      this.interval = null;\n    }\n  };\n\n  onPlayCallback = () => {\n    this.clearBulletInterval();\n    this.interval = setInterval(this.bulletScreen, INTERVAL_DELAY);\n  };\n\n  onPauseCallback = () => {\n    this.clearBulletInterval();\n  };\n\n  // round the current time stamp to nearest 0.2 value\n  round(num: number) {\n    const result = Math.floor(num * 2) / 2;\n    return result.toFixed(1);\n  }\n\n  getPreciseTime() {\n    if (this.youtubeRef && this.youtubeRef.current)\n      return this.youtubeRef.current.getCurrentTime();\n    if (this.audio) return this.audio.currentTime;\n    return -1;\n  }\n\n  getTimeStamp() {\n    return this.round(this.getPreciseTime());\n  }\n\n  // find a random lane that suits the bullet (make sure no overlap)\n  getLane() {\n    const result: number[] = [];\n    Object.keys(this.lanes).forEach((value: string) => {\n      // the lane is available only if it was being used earlier enough\n      const key = parseInt(value);\n      if (this.getPreciseTime() > this.lanes[key]) result.push(key);\n    });\n\n    if (result.length === 0) return -1;\n    return result[Math.floor(Math.random() * result.length)];\n  }\n\n  addBullet = () => {\n    const text = this.state.inputValue;\n    if (text.length === 0) return;\n\n    this.textToScreen(text);\n    this.props.submitBullet(text);\n    this.setState({ inputValue: \"\" });\n\n    const time = this.getTimeStamp();\n\n    if (parseInt(time) <= 0) return;\n    // add the emoji to the list 0.5 sec later to avoid outputing emoji twice\n    setTimeout(() => {\n      if (!(time in this.bullets)) this.bullets[time] = [];\n      this.bullets[time].push(text);\n      this.props.updateBullets();\n    }, INTERVAL_DELAY);\n  };\n\n  createBulletNode(text: string) {\n    const lane = this.getLane();\n    if (lane < 0) return null;\n\n    const node = document.createElement(\"div\");\n    node.className = \"bullet-text\";\n    node.innerText = text;\n    node.style.top = lane + \"px\";\n    node.style.left = -text.length * LETTER_WIDTH + \"px\";\n\n    // choose a random color for the text\n    const choice = Math.floor(Math.random() * this.availColor.length);\n    node.style.color = this.availColor[choice];\n\n    if (this.availColor.length === 1) this.resetColor();\n\n    // remove the previously used color\n    this.availColor = this.availColor.filter(\n      (item) => item !== this.availColor[choice]\n    );\n\n    this.lanes[lane] = this.getPreciseTime() + text.length * SEC_PER_LETTER;\n    return node;\n  }\n\n  textToScreen = (text: string) => {\n    const node = this.createBulletNode(text);\n    if (!node) return;\n    if (this.bulletDiv.current) {\n      this.bulletDiv.current.appendChild(node);\n      let width = this.bulletDiv.current.clientWidth;\n      anime({\n        targets: node,\n        translateX: 2 * width,\n        duration: width * DURATION_FACTOR,\n        easing: \"linear\",\n        complete: () => {\n          try {\n            node.parentElement?.removeChild(node);\n          } catch (e) {}\n        },\n      });\n    }\n  };\n\n  bulletScreen = () => {\n    const time = this.getTimeStamp();\n    if (time in this.bullets) {\n      this.bullets[time].forEach((text: string) => {\n        if (text && text !== \"\") {\n          // have a random time offset for each emoji (dont clutter together)\n          setTimeout(() => {\n            this.textToScreen(text);\n          }, Math.random() * INTERVAL_DELAY);\n        }\n      });\n    }\n  };\n\n  render() {\n    return (\n      <div id=\"bullet-sec\">\n        <div className=\"bullet-screen\" ref={this.bulletDiv}></div>\n        <div className=\"bullet-input-container\">\n          <div className=\"bullet-input\">\n            <input\n              type=\"text\"\n              placeholder=\"What do you think? \"\n              value={this.state.inputValue}\n              onChange={this.onChangeInput}\n              onKeyUp={(event) => {\n                if (event.key === \"Enter\") {\n                  this.addBullet();\n                }\n              }}\n            ></input>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default BulletSection;\n","import { IEmojiSelections } from \"../types\";\nimport { IconButton } from \"@material-ui/core\";\nimport React from \"react\";\n\ninterface IEmojiPanelProps {\n  selectedEmojis: IEmojiSelections;\n  onClickEmoji: (emoji: string) => () => void;\n  isDisabled?: boolean;\n}\n\nexport const EmojiPanel = (props: IEmojiPanelProps) => {\n  const { selectedEmojis, onClickEmoji, isDisabled } = props;\n\n  return (\n    <div className=\"emoji-panel-container\">\n      <div style={{ width: \"100%\", textAlign: \"center\", background: \"white\" }}>\n        in-game emojis\n      </div>\n      {Object.entries(selectedEmojis).map(([key, value]) => (\n        <div key={key} style={{ textAlign: \"center\" }}>\n          <IconButton disabled={isDisabled} onClick={onClickEmoji(key)}>\n            <img\n              style={{ width: 30, height: 30 }}\n              src={getEmojiImageURL(key)}\n              alt=\"emoji\"\n            />\n          </IconButton>\n          {/* <div>{value}</div> */}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nconst baseEmojiUrl =\n  \"https://cdn.jsdelivr.net/gh/iamcal/emoji-data@master/img-apple-64/\";\n\nconst getEmojiImageURL = (code: string) => {\n  return `${baseEmojiUrl}${code}.png`;\n};\n","import \"./css/Leaderboard.css\";\n\nimport React, { useCallback } from \"react\";\n\ninterface ILeaderboardProps {\n  scores: { name: string; score: number }[];\n}\n\nconst medalEmojis: { [key: number]: string } = {\n  0: \"1f947\",\n  1: \"1f948\",\n  2: \"1f949\",\n};\n\nexport const Leaderboard = (props: ILeaderboardProps) => {\n  const inOrderScores = props.scores.sort((a, b) => b.score - a.score);\n\n  const medal = useCallback((index: number) => {\n    const emoji = medalEmojis[index];\n    if (emoji) {\n      return (\n        <img\n          alt=\"medal\"\n          src={`https://cdn.jsdelivr.net/gh/iamcal/emoji-data@master/img-apple-64/${emoji}.png`}\n        />\n      );\n    } else return null;\n  }, []);\n\n  return (\n    <div className=\"leaderboard-container\">\n      <div className=\"leaderboard-title\">leaderboard</div>\n      {inOrderScores.map((score, index) => (\n        <div key={score.name + score.score} style={{ display: \"flex\" }}>\n          <div className=\"leaderboard-name\">{score.name}</div>\n          <div className=\"leaderboard-score\">\n            {score.score}\n            <div className=\"leaderboard-medal\">{medal(index)}</div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n","import React from \"react\";\n//@ts-ignore\nimport anime from \"animejs/lib/anime.es\";\nclass AnimationCanvas extends React.Component<\n  { resetStreak: EventListenerOrEventListenerObject },\n  {}\n> {\n  emojiCanvas: React.RefObject<HTMLCanvasElement> = React.createRef();\n  tap: \"touchstart\" | \"mousedown\" =\n    \"ontouchstart\" in window || navigator.msMaxTouchPoints\n      ? \"touchstart\"\n      : \"mousedown\";\n\n  componentDidMount() {\n    this.initializeCanvas();\n    this.initializeListener();\n  }\n\n  initializeListener() {\n    if (this.emojiCanvas.current) {\n      this.emojiCanvas.current.addEventListener(\n        this.tap,\n        this.props.resetStreak,\n        false\n      );\n    }\n  }\n\n  // The dimension of canvas matches the parent div element\n  initializeCanvas() {\n    const initializeDimension = () => {\n      if (this.emojiCanvas.current) {\n        const canvasEl = this.emojiCanvas.current;\n        if (canvasEl.parentElement) {\n          canvasEl.width = canvasEl.parentElement.clientWidth;\n          // canvasEl.width = canvasEl.offsetWidth;\n          // canvasEl.height = canvasEl.offsetHeight;\n          // canvasEl.style.border = \"2px rgb(0, 204, 255) dashed\";\n        }\n      }\n    };\n\n    initializeDimension();\n    window.addEventListener(\"resize\", initializeDimension);\n\n    if (this.emojiCanvas.current) {\n      const canvasEl = this.emojiCanvas.current;\n\n      // this clears the canvas screen on each update (avoid leaving the trace of animating objects)\n      const ctx = canvasEl.getContext(\"2d\");\n      anime({\n        duration: Infinity,\n        update: function () {\n          ctx?.clearRect(0, 0, canvasEl.width, canvasEl.height);\n        },\n      });\n    }\n  }\n\n  createParticule(x: number, y: number) {\n    const colors = [\"#FF1461\", \"#18FF92\", \"#5A87FF\", \"#FBF38C\"];\n    if (this.emojiCanvas.current) {\n      const ctx = this.emojiCanvas.current.getContext(\"2d\");\n      const p = {\n        x: x,\n        y: y,\n        color: colors[anime.random(0, colors.length - 1)],\n        radius: anime.random(16, 24),\n        endPos: this.setParticuleDirection(x, y),\n        draw: function () {\n          if (ctx) {\n            ctx.beginPath();\n            ctx.arc(p.x, p.y, p.radius, 0, 2 * Math.PI, true);\n            ctx.fillStyle = p.color;\n            ctx.fill();\n          }\n        },\n      };\n      return p;\n    }\n    return undefined;\n  }\n\n  setParticuleDirection(x: number, y: number) {\n    var angle = (anime.random(0, 360) * Math.PI) / 180;\n    var value = anime.random(25, 90);\n    var radius = [-1, 1][anime.random(0, 1)] * value;\n    return {\n      x: x + radius * Math.cos(angle),\n      y: y + radius * Math.sin(angle),\n    };\n  }\n\n  // create particles for the firework\n  renderParticule = (anim: any) => {\n    for (var i = 0; i < anim.animatables.length; i++) {\n      anim.animatables[i].target.draw();\n    }\n  };\n\n  // The animation for the firework\n  animateParticules = (x: number, y: number, points: number) => {\n    const particules = [];\n    const particuleCount = points >= 10 ? 50 : 30;\n    for (var i = 0; i < particuleCount; i++) {\n      particules.push(this.createParticule(x, y));\n    }\n    anime.timeline().add({\n      targets: particules,\n      x: function (p: any) {\n        return p.endPos.x;\n      },\n      y: function (p: any) {\n        return p.endPos.y;\n      },\n      radius: 0.1,\n      duration: anime.random(1200, 1800),\n      easing: \"easeOutExpo\",\n      update: this.renderParticule,\n    });\n  };\n\n  render() {\n    return (\n      <canvas\n        height=\"270px\"\n        style={{ position: \"absolute\" }}\n        ref={this.emojiCanvas}\n      ></canvas>\n    );\n  }\n}\n\nexport default AnimationCanvas;\n","import AnimationCanvas from \"./AnimationCanvas\";\nimport { ILiveEmojis } from \"../types\";\nimport React from \"react\";\nimport ReactPlayer from \"react-player\";\n//@ts-ignore\nimport anime from \"animejs/lib/anime.es\";\nimport bananadanceGif from \"../assets/bananadance.gif\";\nimport blobExcited from \"../assets/blob_excited.gif\";\nimport blobOctopus from \"../assets/blob-octopus.gif\";\nimport coolDoge from \"../assets/cool-doge.gif\";\nimport handWave from \"../assets/hand_wave.gif\";\nimport koopaTroopaMarioKart from \"../assets/koopa_troopa_mario_kart.gif\";\nimport letsGoGoombaGif from \"../assets/goomba.gif\";\nimport mega from \"../assets/mega.gif\";\nimport metroid from \"../assets/metroid.gif\";\nimport penguin from \"../assets/penguin.gif\";\nimport powerup from \"../assets/powerup.gif\";\nimport readMyMind from \"../assets/read-my-mind.gif\";\nimport star from \"../assets/star.gif\";\nimport streakBonusBuildsGif from \"../assets/builds.gif\";\nimport upRedArrow from \"../assets/up-red-arrow.gif\";\nimport yahooGamesWoman from \"../assets/yahoo_games_woman.png\";\n\nconst INTERVAL_DELAY = 50;\n// before this timestamp, we consider resetting the state of the widget\nconst RESET_STATE_TIMESTAMP = 0.5;\n\nconst WELCOME_CONTAINER_WIDTH = 200;\nconst LETTER_WIDTH = 7.5;\nconst GIF_WIDTH = 35;\n\nconst EMOJI_HEIGHT = 30;\nconst EMOJI_WIDTH = 30;\nconst EMOJI_TOP_OFFSET = 10;\nconst EMOJI_DURATION_FACTOR = 4.8;\nconst EMOJI_MIN_DURATION = 2000;\n\nconst INSTRUCTIONS = [\n  \"Press emojis to tally points \",\n  \"Go for consecutive streaks \",\n  \"Enter comments to display above \",\n  \"Add emojis below to flow \",\n  \"You are great \",\n];\nconst INSTRUCTION_GIFS = [coolDoge, powerup, readMyMind, star, blobOctopus];\nconst INSTRUCTION_TOP_OFFSET = 20;\nconst INSTRUCTION_HEIGHT = 45;\nconst INSTRUCTION_DELAY = 2000;\nconst INSTRUCTION_STAY_TIME = 5000;\nconst INSTRUCTION_DURATION_FACTOR = 4;\nconst INSTRUCTION_WIDTH = 200;\n\nconst MEDAL_EMOJIS = [\"1f947\", \"1f948\", \"1f949\"];\nconst HIGHSCORE_TOP_OFFSET = 70;\nconst HIGHSCORE_HEIGHT = 50;\nconst HIGHSCORE_DELAY = 750;\nconst HIGHSCORE_DURATION_FACTOR = 6;\n\nconst MESSAGE_WIDTH = 250;\nconst MESSAGE_DURATION_FACTOR = 4;\nconst MESSAGE_MIN_DURATION = 2300;\n\nconst URL_TOP_OFFSET = 70;\nconst URL_HEIGHT = 50;\n\ninterface ILiveEmojiSectionProps {\n  youtubeRef?: React.RefObject<ReactPlayer>;\n  onChangePoints: (points: number) => void;\n  scores: { name: string; score: number }[] | undefined;\n  setSongPlayingIndex: (index: number) => void;\n  updatePoints: (points: number) => void;\n}\n\ninterface ILiveEmojiSectionState {\n  totalPoints: number;\n  streakPoints: number;\n  showInstruction: boolean;\n  showHighscore: boolean;\n}\n\nclass LiveEmojiSection extends React.Component<\n  ILiveEmojiSectionProps,\n  ILiveEmojiSectionState\n> {\n  chosenEmoji: ILiveEmojis = {};\n  audio: HTMLAudioElement | null = null;\n  interval: NodeJS.Timeout | null = null;\n  id: number = 0;\n  streakId: number = 0;\n  // this stores pairs of <id, animation>\n  emojiAnimations: { [nodeid: string]: any } = {};\n  latestTimestamp: string = \"0\"; // store the last timestamp when emojis are sent. Avoid being redundant.\n  movingNodes: HTMLDivElement[] = [];\n  emojiDiv: React.RefObject<HTMLDivElement> = React.createRef();\n  animeCanvas: React.RefObject<AnimationCanvas> = React.createRef();\n  clickZone: React.RefObject<HTMLDivElement> = React.createRef();\n\n  // the value could either be \"touchstart\" or \"mousedown\", used to detect both taps and mouse clicks\n  tap: \"touchstart\" | \"mousedown\" =\n    \"ontouchstart\" in window || navigator.msMaxTouchPoints\n      ? \"touchstart\"\n      : \"mousedown\";\n\n  constructor(props: Readonly<ILiveEmojiSectionProps>) {\n    super(props);\n    this.state = {\n      totalPoints: 0,\n      streakPoints: 0,\n      showInstruction: true,\n      showHighscore: true,\n    };\n  }\n\n  initializeEmojis(liveEmojis: ILiveEmojis) {\n    this.chosenEmoji = liveEmojis;\n    // this.instructionOut();\n    this.resetPoints();\n  }\n\n  initializeAudio(audio: HTMLAudioElement) {\n    if (audio) this.audio = audio;\n  }\n\n  onPlayCallback = () => {\n    this.instructionOut();\n    this.urlsOut();\n    this.animateWelcome(true);\n    if (this.state.showHighscore) this.highScores();\n\n    this.clearBulletInterval();\n    if (\n      this.props.youtubeRef &&\n      this.props.youtubeRef.current &&\n      this.props.youtubeRef.current.getCurrentTime() < RESET_STATE_TIMESTAMP\n    )\n      this.resetPoints();\n    else if (this.audio && this.audio.currentTime < RESET_STATE_TIMESTAMP)\n      this.resetPoints();\n    this.interval = setInterval(this.liveEmojiScreen, INTERVAL_DELAY);\n  };\n\n  onPauseCallback = () => {\n    this.clearBulletInterval();\n  };\n\n  clearBulletInterval = () => {\n    if (this.interval) {\n      clearInterval(this.interval);\n      this.interval = null;\n    }\n  };\n\n  getPreciseTime() {\n    if (this.props.youtubeRef && this.props.youtubeRef.current)\n      return this.props.youtubeRef.current.getCurrentTime();\n    if (this.audio) return this.audio.currentTime;\n    return -1;\n  }\n\n  getTimeStamp() {\n    return this.round(this.getPreciseTime());\n  }\n\n  // round the current time stamp to nearest 0.2 value\n  round(num: number) {\n    const result = Math.floor(num * 20) / 20;\n    // being compatible with previous data\n    if (parseFloat(result.toFixed(1)) === parseFloat(result.toFixed(2)))\n      return result.toFixed(1);\n    return result.toFixed(2);\n  }\n\n  resetPoints() {\n    this.setState({\n      totalPoints: 0,\n      streakPoints: 0,\n    });\n    this.id = 0;\n    this.streakId = 0;\n  }\n\n  resetStreak = () => {\n    this.setState({\n      streakPoints: 0,\n    });\n  };\n\n  resetState() {\n    this.setState({\n      showInstruction: true,\n      showHighscore: true,\n    });\n    this.urlsOut();\n  }\n\n  animatePoint() {\n    anime.timeline().add({\n      targets: \".point-count\",\n      scale: [0.2, 1],\n      duration: 800,\n    });\n  }\n\n  // manually add the emoji to screen, will be called by the player file\n  async addEmoji(emoji: string) {\n    const time = this.getTimeStamp();\n    if (parseInt(time) <= 0) return;\n    const node = this.createEmojiNode(emoji);\n    if (node !== undefined) {\n      this.emojiToScreen(node);\n    }\n\n    // add the emoji to the list 0.5 sec later to avoid outputing emoji twice\n    setTimeout(() => {\n      if (!(time in this.chosenEmoji)) this.chosenEmoji[time] = [];\n      this.chosenEmoji[time].push(emoji);\n    }, INTERVAL_DELAY);\n  }\n\n  // shows the instructions\n  openingScreen() {\n    INSTRUCTIONS.forEach((value, index) => {\n      const node = this.createInstructionNode(\n        value,\n        INSTRUCTION_GIFS[index],\n        INSTRUCTION_TOP_OFFSET + INSTRUCTION_HEIGHT * index + \"px\"\n      );\n      this.instrNodeToScreen(\n        node,\n        index * INSTRUCTION_DELAY,\n        (INSTRUCTIONS.length + index) * INSTRUCTION_DELAY +\n          INSTRUCTION_STAY_TIME\n      );\n    });\n    this.finalInstructionToScreen(\n      INSTRUCTIONS.length * 2 * INSTRUCTION_DELAY + INSTRUCTION_STAY_TIME\n    );\n  }\n\n  // shows high scores\n  highScores() {\n    if (!this.props.scores || this.getPreciseTime() >= RESET_STATE_TIMESTAMP)\n      return;\n\n    const titleNode = this.createInstructionNode(\n      \"High scores \",\n      koopaTroopaMarioKart,\n      \"20px\"\n    );\n    this.highScoreNodeToScreen(titleNode, 0);\n\n    const inOrderScores = this.props.scores.sort((a, b) => b.score - a.score);\n    const texts = inOrderScores.map((score) => score.name + \": \" + score.score);\n\n    // getting the top 3 of the leaderboard (if there are more than 3 players)\n    for (var i = 0; i < Math.min(3, texts.length); i++) {\n      const node = this.createHighScoreNode(\n        texts[i],\n        MEDAL_EMOJIS[i],\n        HIGHSCORE_TOP_OFFSET + HIGHSCORE_HEIGHT * i + \"px\"\n      );\n      this.highScoreNodeToScreen(node, (i + 1) * HIGHSCORE_DELAY);\n    }\n    this.setState({ showHighscore: false });\n  }\n\n  // shows the emoji flow\n  liveEmojiScreen = () => {\n    const time = this.getTimeStamp();\n    if (time in this.chosenEmoji && time !== this.latestTimestamp) {\n      this.latestTimestamp = time;\n      this.chosenEmoji[time].forEach((emoji) => {\n        const node = this.createEmojiNode(emoji);\n        if (node !== undefined) {\n          // have a random time offset for each emoji (dont clutter together)\n          setTimeout(() => {\n            this.emojiToScreen(node);\n          }, Math.random() * INTERVAL_DELAY);\n        }\n      });\n    }\n  };\n\n  componentDidUpdate(\n    _: ILiveEmojiSectionProps,\n    prevState: ILiveEmojiSectionState\n  ) {\n    if (this.state.totalPoints !== prevState.totalPoints) {\n      this.props.updatePoints(this.state.totalPoints);\n    }\n  }\n\n  /*\n   * Below are all helper functions\n   */\n\n  // increment points\n  addPoint() {\n    const streakPoints = this.state.streakPoints + 1;\n    const totalPoints =\n      this.state.totalPoints + 1 + Math.floor(streakPoints / 5);\n\n    // checking whether to send out a special message animation\n    if (\n      streakPoints % 5 === 0 ||\n      Math.floor(totalPoints / 20) > Math.floor(this.state.totalPoints / 20)\n    )\n      this.messageToScreen(this.randomBonusNode(), 220);\n    else if (Math.random() < 0.1)\n      this.messageToScreen(this.randomSpecialNode(), -220);\n\n    // update the state\n    this.setState({\n      totalPoints: totalPoints,\n      streakPoints: streakPoints,\n    });\n    this.props.onChangePoints(totalPoints);\n\n    // animate the streak number\n    this.animatePoint();\n  }\n\n  // check if the click should generate points (at this point anywhere within the canvas)\n  withinClickZone(x: number, y: number, node: HTMLDivElement) {\n    if (this.clickZone.current) {\n      const rect = this.clickZone.current.getBoundingClientRect();\n      if (\n        x >= rect.left &&\n        x <= rect.right &&\n        y >= 0 &&\n        y <= rect.bottom - rect.top\n      ) {\n        if (this.streakId !== parseInt(node.id) - 1) {\n          this.resetStreak();\n          this.streakId = parseInt(node.id);\n        } else {\n          this.streakId++;\n        }\n        this.addPoint();\n      }\n    }\n  }\n\n  // when the flowing emoji is clicked\n  onLiveEmojiClick(node: HTMLDivElement) {\n    const y = parseFloat(node.style.top);\n    const transInfo = node.style.transform;\n    const x = parseFloat(\n      transInfo.substring(transInfo.indexOf(\"(\") + 1, transInfo.indexOf(\"px\"))\n    );\n\n    this.animeCanvas.current?.animateParticules(x, y, this.state.streakPoints);\n\n    this.withinClickZone(x, y, node);\n    this.emojiAnimations[node.id].pause();\n\n    // shrinks the emoji and make it disappear\n    anime({\n      targets: node,\n      scale: 0.01,\n      duration: 100,\n      easing: \"linear\",\n      complete: () => {\n        try {\n          node.parentElement?.removeChild(node);\n        } catch (e) {\n          //console.log(e);\n        }\n      },\n    });\n  }\n\n  randomBonusNode() {\n    const choice = Math.floor(Math.random() * 4);\n    switch (choice) {\n      case 0:\n        return this.createBuildNode();\n      case 1:\n        return this.createPenguinNode();\n      case 2:\n        return this.createNiceWorkNode();\n      case 3:\n        return this.createMegamegaNode();\n    }\n  }\n\n  randomSpecialNode() {\n    const choice = Math.floor(Math.random() * 3);\n    switch (choice) {\n      case 0:\n        return this.createGoombaNode();\n      case 1:\n        return this.createBananadanceNode();\n      case 2:\n        return this.createMarchonNode();\n    }\n  }\n\n  randomSongUrl(choices: { index: number; name: string }[]) {\n    const titleNode = this.createInstructionNode(\n      \"Check these out! \",\n      blobExcited,\n      \"20px\"\n    );\n    titleNode.className = \"url-title-container\";\n    this.urlsToScreen(titleNode, true);\n    console.log(choices);\n    choices.forEach((choice, index) => {\n      const node = this.createSongUrlNode(\n        choice,\n        URL_TOP_OFFSET + index * URL_HEIGHT\n      );\n      this.urlsToScreen(node, false);\n    });\n  }\n\n  createInstructionNode(text: string, gifSrc: string, top: string) {\n    const node = document.createElement(\"div\");\n    node.className = \"instruction\";\n    node.innerHTML = text;\n    const gifNode = document.createElement(\"img\");\n    gifNode.className = \"live-gif\";\n    gifNode.src = gifSrc;\n    node.insertAdjacentElement(\"beforeend\", gifNode);\n    node.style.top = top;\n    node.style.left = -text.length * LETTER_WIDTH - GIF_WIDTH + \"px\";\n    return node;\n  }\n\n  createHighScoreNode(text: string, emoji: string, top: string) {\n    const node = document.createElement(\"div\");\n    node.className = \"high-score\";\n    node.innerHTML = text;\n    const emojiNode = document.createElement(\"img\");\n    emojiNode.className = \"live-gif\";\n    emojiNode.src = getEmojiImageURL(emoji);\n    node.insertAdjacentElement(\"beforeend\", emojiNode);\n    node.style.top = top;\n    node.style.left = -text.length * LETTER_WIDTH - GIF_WIDTH + \"px\";\n    return node;\n  }\n\n  // create the img node for emoji\n  createEmojiNode(emoji: string) {\n    const node = document.createElement(\"img\");\n    node.className = \"live-emoji\";\n    node.src = getEmojiImageURL(emoji);\n    node.addEventListener(this.tap, () => this.onLiveEmojiClick(node), false);\n\n    if (this.emojiDiv.current) {\n      // the number of emojis in a column the screen can hold\n      const options =\n        Math.floor(this.emojiDiv.current.clientHeight / EMOJI_HEIGHT) - 1;\n      // randomly picks a row and calculate the respective height\n      let random =\n        Math.floor(Math.random() * options) * EMOJI_HEIGHT + EMOJI_TOP_OFFSET;\n      node.style.top = random + \"px\";\n    }\n\n    return node;\n  }\n\n  // create div node in the form of (gif text gif)\n  gifTextGifNode(frontGif: string, text: string, backGif: string) {\n    const node = document.createElement(\"div\");\n    node.className = \"special-bonus-text\";\n    node.innerText = text;\n\n    const gifNodeBegin = document.createElement(\"img\");\n    gifNodeBegin.className = \"live-gif\";\n    gifNodeBegin.src = frontGif;\n    node.insertAdjacentElement(\"afterbegin\", gifNodeBegin);\n\n    const gifNodeEnd = document.createElement(\"img\");\n    gifNodeEnd.className = \"live-gif\";\n    gifNodeEnd.src = backGif;\n    node.insertAdjacentElement(\"beforeend\", gifNodeEnd);\n\n    return node;\n  }\n\n  // create div node in the form of (text gif text)\n  textGifTextNode(frontText: string, gif: string, backText: string) {\n    const node = document.createElement(\"div\");\n    node.className = \"special-bonus-text\";\n    node.innerHTML = frontText;\n\n    const gifNodeBegin = document.createElement(\"img\");\n    gifNodeBegin.className = \"live-gif\";\n    gifNodeBegin.src = gif;\n    node.insertAdjacentElement(\"beforeend\", gifNodeBegin);\n\n    node.innerHTML += backText;\n    return node;\n  }\n\n  // all functions below here are for bonus message calls\n  createBuildNode() {\n    return this.gifTextGifNode(\n      streakBonusBuildsGif,\n      \" builder bonus 10+ \",\n      streakBonusBuildsGif\n    );\n  }\n\n  createGoombaNode() {\n    return this.textGifTextNode(\"yee \", letsGoGoombaGif, \" lets go\");\n  }\n\n  createBananadanceNode() {\n    return this.textGifTextNode(\"Go bananas \", bananadanceGif, \" go go\");\n  }\n\n  createMegamegaNode() {\n    return this.gifTextGifNode(mega, \" mega mega \", mega);\n  }\n\n  createMarchonNode() {\n    return this.gifTextGifNode(metroid, \" march on \", metroid);\n  }\n\n  createPenguinNode() {\n    return this.gifTextGifNode(penguin, \" super super \", penguin);\n  }\n\n  createNiceWorkNode() {\n    return this.textGifTextNode(\"yee \", yahooGamesWoman, \" nice work\");\n  }\n\n  createSongUrlNode(choice: { index: number; name: string }, top: number) {\n    const node = document.createElement(\"div\");\n    node.id = choice.index.toString();\n    node.innerText = choice.name;\n    node.className = \"url-container\";\n    if (choice.name)\n      node.style.left = -choice.name.length * LETTER_WIDTH + \"px\";\n    node.style.top = top + \"px\";\n    node.onclick = () => {\n      this.props.setSongPlayingIndex(parseInt(node.id));\n      this.resetState();\n    };\n    return node;\n  }\n\n  animateWelcome(fast: boolean) {\n    if (this.emojiDiv.current) {\n      // if we want fast animation, the duration is low, vice versa\n      const duration = this.emojiDiv.current.clientWidth * (fast ? 1 : 3);\n      anime.timeline().add({\n        targets: \".welcome-container\",\n        translateX: this.emojiDiv.current.clientWidth + WELCOME_CONTAINER_WIDTH,\n        duration: duration,\n        easing: fast ? \"easeInExpo\" : \"linear\",\n        complete: () => {\n          this.setState({ showInstruction: false });\n        },\n      });\n    }\n  }\n\n  // goes to the middle of the screen and wait and flow to the end of the screen\n  instrNodeToScreen(node: HTMLDivElement, delayIn: number, delayOut: number) {\n    if (this.emojiDiv.current) {\n      this.emojiDiv.current.appendChild(node);\n      const width = this.emojiDiv.current.clientWidth;\n      this.movingNodes.push(node);\n      anime\n        .timeline()\n        .add(\n          {\n            targets: node,\n            translateX: (width + node.clientWidth + GIF_WIDTH) / 2,\n            duration: (width * INSTRUCTION_DURATION_FACTOR) / 2,\n            easing: \"easeOutQuad\",\n          },\n          delayIn\n        )\n        .add(\n          {\n            targets: node,\n            translateX: width + node.clientWidth + GIF_WIDTH,\n            duration: (width * INSTRUCTION_DURATION_FACTOR) / 2,\n            easing: \"easeInQuad\",\n            complete: () => {\n              try {\n                node.parentElement?.removeChild(node);\n              } catch (e) {\n                //console.log(e);\n              }\n            },\n          },\n          delayOut\n        );\n    }\n  }\n\n  // last instruction that stays in the middle until user clicks on play\n  finalInstructionToScreen(delay: number) {\n    const node = this.createInstructionNode(\n      \"Click video above to begin \",\n      upRedArrow,\n      \"100px\"\n    );\n    if (this.emojiDiv.current) {\n      this.emojiDiv.current.appendChild(node);\n      this.movingNodes.push(node);\n      const width = this.emojiDiv.current.clientWidth;\n      anime.timeline().add(\n        {\n          targets: node,\n          translateX: (width + node.clientWidth + GIF_WIDTH) / 2,\n          duration: INSTRUCTION_DURATION_FACTOR / 2,\n          easing: \"easeOutQuad\",\n        },\n        delay\n      );\n    }\n  }\n\n  highScoreNodeToScreen(node: HTMLDivElement, delay: number) {\n    if (this.emojiDiv.current) {\n      this.emojiDiv.current.appendChild(node);\n      const width = this.emojiDiv.current.clientWidth;\n      anime.timeline().add(\n        {\n          targets: node,\n          translateX: width + node.clientWidth,\n          duration: width * HIGHSCORE_DURATION_FACTOR,\n          easing: \"linear\",\n          complete: () => {\n            try {\n              node.parentElement?.removeChild(node);\n            } catch (e) {\n              //console.log(e);\n            }\n          },\n        },\n        delay\n      );\n    }\n  }\n\n  // add the emoji to screen and animate it\n  emojiToScreen(node: HTMLImageElement) {\n    node.id = this.id.toString();\n    if (this.emojiDiv.current) {\n      this.emojiDiv.current.appendChild(node);\n      let width = this.emojiDiv.current.clientWidth;\n      const animation = anime({\n        targets: node,\n        translateX: width + EMOJI_WIDTH,\n        scale: anime.random(13, 17) / 10,\n        duration: Math.max(EMOJI_MIN_DURATION, width * EMOJI_DURATION_FACTOR),\n        easing: \"linear\",\n        complete: () => {\n          try {\n            node.parentElement?.removeChild(node);\n            if (parseInt(node.id) > this.streakId) this.resetStreak();\n          } catch (e) {}\n        },\n      });\n      this.emojiAnimations[this.id] = animation;\n      this.id++;\n    }\n  }\n\n  messageToScreen(node: HTMLDivElement | undefined, top: number) {\n    if (this.emojiDiv.current && node) {\n      node.style.top = top + \"px\";\n      this.emojiDiv.current.appendChild(node);\n      let width = this.emojiDiv.current.clientWidth;\n      const animation = anime({\n        targets: node,\n        translateX: width + MESSAGE_WIDTH,\n        duration: Math.max(\n          MESSAGE_MIN_DURATION,\n          width * MESSAGE_DURATION_FACTOR\n        ),\n        easing: \"linear\",\n        complete: () => {\n          try {\n            node.parentElement?.removeChild(node);\n          } catch (e) {}\n        },\n      });\n      return animation;\n    }\n  }\n\n  urlsToScreen(node: HTMLDivElement, title: boolean) {\n    if (this.emojiDiv.current && node) {\n      this.emojiDiv.current.appendChild(node);\n      let width = this.emojiDiv.current.clientWidth;\n      const animation = anime({\n        targets: node,\n        translateX:\n          (width +\n            node.innerText.length * LETTER_WIDTH +\n            (title ? GIF_WIDTH : 0)) /\n          2,\n        duration: (width * MESSAGE_DURATION_FACTOR) / 2,\n        easing: \"easeOutExpo\",\n      });\n      return animation;\n    }\n  }\n\n  // quickly move the instructions out of the way when the video is being played.\n  instructionOut() {\n    if (this.emojiDiv.current) {\n      const width = this.emojiDiv.current.clientWidth;\n      anime({\n        targets: this.movingNodes,\n        translateX: width + INSTRUCTION_WIDTH,\n        duration: width / 2,\n        easing: \"easeInExpo\",\n        complete: () => {\n          this.movingNodes.forEach((node) => {\n            try {\n              node.parentElement?.removeChild(node);\n            } catch (e) {\n              //console.log(e);\n            }\n          });\n          this.movingNodes = [];\n        },\n      });\n    }\n  }\n\n  // quickly move the urls out of the way when the video is being played.\n  urlsOut() {\n    if (this.emojiDiv.current) {\n      const width = this.emojiDiv.current.clientWidth;\n      anime({\n        targets: [\".url-container\", \".url-title-container\"],\n        translateX: width * 2,\n        duration: width / 2,\n        easing: \"easeInExpo\",\n        complete: () => {\n          this.movingNodes.forEach((node) => {\n            try {\n              node.parentElement?.removeChild(node);\n            } catch (e) {\n              //console.log(e);\n            }\n          });\n          this.movingNodes = [];\n        },\n      });\n    }\n  }\n\n  getStreakColor() {\n    const r = 255;\n    const g = Math.min(200, (this.state.streakPoints - 5) * 10);\n    const b = 0;\n    return \"rgb(\" + r + \", \" + g + \", \" + b + \")\";\n  }\n\n  render() {\n    return (\n      <div id=\"live-emoji-sec\">\n        <div className=\"point-container\">\n          <span\n            style={{\n              paddingLeft: this.state.streakPoints < 5 ? \"6rem\" : \"1rem\",\n            }}\n          >\n            Total points:\n            <span className=\"point-count\"> {this.state.totalPoints} </span>\n          </span>\n          <span\n            hidden={this.state.streakPoints < 5}\n            style={{ color: this.getStreakColor(), paddingLeft: \"5rem\" }}\n          >\n            Streak points:\n            <span className=\"point-count\"> {this.state.streakPoints} </span>\n          </span>\n        </div>\n\n        <div className=\"clickzone\" ref={this.clickZone} />\n\n        <div id=\"emojis\" ref={this.emojiDiv}>\n          {this.state.showInstruction && (\n            <div className=\"welcome-container\">\n              <img\n                src={handWave}\n                alt=\"welcome\"\n                onClick={() => {\n                  this.animateWelcome(false);\n                  this.openingScreen();\n                }}\n              />\n              <div>Click for instructions</div>\n            </div>\n          )}\n\n          <AnimationCanvas\n            ref={this.animeCanvas}\n            resetStreak={this.resetStreak}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst baseEmojiUrl =\n  \"https://cdn.jsdelivr.net/gh/iamcal/emoji-data@master/img-apple-64/\";\n\nconst getEmojiImageURL = (code: string) => {\n  return `${baseEmojiUrl}${code}.png`;\n};\n\nexport default LiveEmojiSection;\n","import \"./css/InteractivePlayer.css\";\n\nimport {\n  Button,\n  IconButton,\n  Modal,\n  Popover,\n  Switch,\n  TextField,\n  Tooltip,\n} from \"@material-ui/core\";\nimport {\n  Close,\n  InsertEmoticon,\n  Lock,\n  Share,\n  SkipNext,\n  SkipPrevious,\n} from \"@material-ui/icons\";\nimport {\n  IBullets,\n  IEmojiSelections,\n  ILiveEmojis,\n  ISongEmojiSelections,\n  userSong,\n} from \"../types\";\nimport Picker, { IEmojiData } from \"emoji-picker-react\";\nimport React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nimport { AdventureLogo } from \"../components/AdventureLogo\";\nimport BulletSection from \"../components/BulletSection\";\nimport { EmojiPanel } from \"./EmojiPanel\";\nimport { FirebaseContext } from \"../contexts/firebaseContext\";\nimport { Leaderboard } from \"../components/Leaderboard\";\nimport { LibraryButton } from \"./LibraryButton\";\nimport LiveEmojiSection from \"../components/LiveEmojiSection\";\nimport { MusicController } from \"adventure-component-library\";\nimport { PlayerLogo } from \"./PlayerButton\";\nimport ReactPlayer from \"react-player\";\nimport _ from \"underscore\";\nimport errorImg from \"../assets/error-gif.gif\";\nimport ghost from \"../assets/red_ghost.gif\";\nimport io from \"socket.io-client\";\nimport kirby from \"../assets/kirby.gif\";\nimport link from \"../assets/link-run.gif\";\nimport mario from \"../assets/mario.gif\";\nimport nyancat from \"../assets/nyancat_big.gif\";\nimport yoshi from \"../assets/yoshi.gif\";\n\n// const socket = io(\"wss://yeeplayer.herokuapp.com\");\nconst socket =\n  window.location.hostname === \"localhost\"\n    ? io(\"ws://localhost:8000\")\n    : io(\"wss://yeeplayer.herokuapp.com\");\n\nconst avatarMap: { [key: string]: string } = {\n  mario: mario,\n  kirby: kirby,\n  link: link,\n  nyancat: nyancat,\n  ghost: ghost,\n  yoshi: yoshi,\n};\n\ninterface IUserLocations {\n  [userId: string]: { x: number; y: number };\n}\n\ninterface IInteractivePlayerProps {\n  isYoutube?: boolean;\n  isLobby?: boolean;\n}\n\ninterface IUserProfiles {\n  [clientId: string]: { name: string; avatar: string };\n}\n\ninterface IUserPoints {\n  [clientId: string]: number;\n}\n\nconst selectedProfiles: { [clientId: string]: string } = {};\n\nexport const InteractivePlayer = ({\n  isYoutube,\n  isLobby,\n}: IInteractivePlayerProps) => {\n  const [isLobbyPlaying, setIsLobbyPlaying] = useState(false);\n  const [lobbyPlayTime, setLobbyPlaytime] = useState(-1);\n  //   const [lobbyPlayInterval, setLobbyPlayInterval] = useState<NodeJS.Timeout>();\n  //   const [youtubeProgress, setYoutubeProgress] = useState<number>(0);\n\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [audio, setAudio] = useState<HTMLAudioElement | null>(null);\n\n  const youtubeRef = useRef<ReactPlayer>(null);\n\n  const playerBodyRef = useRef<HTMLDivElement>(null);\n  const [playerBodyRect, setPlayerBodyRect] = useState<DOMRect>();\n\n  const { id } = useParams<{ id: string }>();\n\n  const [userPoints, setUserPoints] = useState<{ [clientId: string]: number }>(\n    {}\n  );\n  const [isEmojiPickerOpen, setIsEmojiPickerOpen] = useState(false);\n  const [song, setSong] = useState<userSong>();\n  const [error, setError] = useState<string | null>(null);\n  const [songPlayingIndex, setSongPlayingIndex] = useState(-1);\n  const firebaseContext = useContext(FirebaseContext);\n  const [userSongs, setUserSongs] = useState<userSong[]>([]);\n  const [selectedSongEmojis, setSelectedSongEmojis] = useState<\n    ISongEmojiSelections\n  >({});\n  const [selectedSongLiveEmojis, setSelectedSongLiveEmojis] = useState<{\n    [songId: string]: ILiveEmojis;\n  }>({});\n  const [selectedSongBullets, setSelectedSongBullets] = useState<{\n    [songId: string]: IBullets;\n  }>({});\n  const [shareAnchor, setShareAnchor] = useState<HTMLButtonElement | null>(\n    null\n  );\n  const [isDisplayingScoreModal, setDisplayingScoreModal] = useState(false);\n  const [points, setPoints] = useState<number>(-1);\n  const [scoreName, setScoreName] = useState<string>(\"\");\n\n  const historyURL = useMemo<string>(() => {\n    if (isYoutube) {\n      if (isLobby) {\n        return \"lobby\";\n      } else {\n        return \"youtube\";\n      }\n    } else {\n      return \"player\";\n    }\n  }, [isYoutube, isLobby]);\n\n  const [playedSong, setPlayedSong] = useState<{ [songId: string]: boolean }>(\n    {}\n  );\n\n  const [isCollaborating, setCollaborating] = useState(true);\n  const [amountOnline, setAmountOnline] = useState(1);\n  const [userLocations, setUserLocations] = useState<IUserLocations>({});\n  const [userProfiles, setUserProfiles] = useState<IUserProfiles>({});\n\n  const onUpdatePoints = (points: number) => {\n    if (points < 0) points = 0;\n    setPoints(points);\n  };\n\n  const updateCursorPosition = useCallback(\n    _.throttle((position: [number, number], points: number) => {\n      socket.emit(\"cursor move\", { x: position[0], y: position[1], points });\n    }, 200),\n    []\n  );\n\n  const onMouseMove = useCallback(\n    (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n      if (!isCollaborating || !playerBodyRect) {\n        return;\n      }\n      const x = event.clientX - playerBodyRect.left; //x position within the element.\n      const y = event.clientY - playerBodyRect.top; //y position within the element.\n\n      const width = event.currentTarget.clientWidth;\n      const height = event.currentTarget.clientHeight;\n\n      const relativeX = x / width;\n      const relativeY = y / height;\n\n      updateCursorPosition([relativeX, relativeY], points);\n    },\n    [isCollaborating, updateCursorPosition, playerBodyRect, points]\n  );\n\n  useEffect(() => {\n    window.onresize = () => {\n      if (playerBodyRef.current) {\n        const rect = playerBodyRef.current.getBoundingClientRect();\n        setPlayerBodyRect(rect);\n      }\n    };\n    if (playerBodyRef.current) {\n      const rect = playerBodyRef.current.getBoundingClientRect();\n      setPlayerBodyRect(rect);\n    }\n  }, [playerBodyRef]);\n\n  useEffect(() => {\n    if (!id) return;\n    if (isCollaborating) {\n      socket.emit(\"lobby playtime\", id);\n    } else {\n      socket.emit(\"disconnect room\");\n      setUserProfiles({});\n      setUserLocations({});\n      setAmountOnline(1);\n    }\n  }, [isCollaborating, id]);\n\n  const onChangeCollaboration = useCallback((_, isCollaborating: boolean) => {\n    setCollaborating(isCollaborating);\n  }, []);\n\n  const onCursorMove = useCallback(function cursorMove(\n    clientId: string,\n    [x, y]: number[],\n    points\n  ) {\n    if (!playerBodyRef.current) return;\n\n    const rect = playerBodyRef.current.getBoundingClientRect();\n\n    const width = rect.width;\n    const height = rect.height;\n\n    const absoluteX = width * x;\n    const absoluteY = height * y;\n\n    setUserLocations((userLocations) => {\n      const newUserLocations = {\n        ...userLocations,\n        [clientId]: {\n          ...userLocations[clientId],\n          x: absoluteX,\n          y: absoluteY,\n        },\n      };\n\n      if (!userLocations[clientId]) {\n        setAmountOnline(Object.keys(userLocations).length + 2);\n      }\n\n      return newUserLocations;\n    });\n\n    let adjustedPoints = points < 0 ? 0 : points;\n\n    setUserPoints((userPoints) => ({\n      ...userPoints,\n      [clientId]: adjustedPoints,\n    }));\n  },\n  []);\n\n  const onSubmitBullet = useCallback((text: string) => {\n    socket.emit(\"submit bullet\", text);\n  }, []);\n\n  const onReceiveBullet = useCallback((text: string) => {\n    bulletRef.current?.textToScreen(text);\n  }, []);\n\n  useEffect(() => {\n    setUserLocations({});\n\n    socket.on(\"connect\", function () {\n      if (id) {\n        socket.emit(\"connect room\", id);\n      }\n      //   socket.emit(\"connect room\", id);\n    });\n    socket.on(\"roommate disconnect\", (clientId: string) => {\n      setUserLocations((userLocations) => {\n        const newUserLocations = {\n          ...userLocations,\n        };\n\n        delete newUserLocations[clientId];\n        delete selectedProfiles[clientId];\n\n        setAmountOnline(Math.max(Object.keys(userLocations).length - 1, 1));\n\n        return newUserLocations;\n      });\n    });\n    socket.on(\n      \"profile info\",\n      (clientId: string, clientProfile: { name: string; avatar: string }) => {\n        setUserProfiles((userProfiles) => ({\n          ...userProfiles,\n          [clientId]: clientProfile,\n        }));\n      }\n    );\n\n    socket.on(\"room profile info\", (profileInfo: IUserProfiles) => {\n      setUserProfiles(profileInfo);\n    });\n\n    socket.on(\"cursor move\", onCursorMove);\n\n    socket.on(\"lobby playtime\", (playTime: number) => {\n      setLobbyPlaytime(playTime);\n    });\n\n    socket.on(\"lobby play\", () => {\n      setIsLobbyPlaying(true);\n    });\n\n    socket.on(\"lobby pause\", () => {\n      setIsLobbyPlaying(false);\n    });\n\n    socket.on(\"receive bullet\", onReceiveBullet);\n  }, [id, onCursorMove, onReceiveBullet]);\n\n  const onSubmitPoints = useCallback(() => {\n    if (song) {\n      const highscores = song.highscores || [];\n      highscores.push({ name: scoreName, score: points });\n      firebaseContext.updateLiveEmojiPoints(song.id, highscores);\n      setDisplayingScoreModal(false);\n      setUserSongs((userSongs) => [\n        ...userSongs.slice(0, songPlayingIndex),\n        { ...song, highscores },\n        ...userSongs.slice(songPlayingIndex + 1),\n      ]);\n    }\n  }, [song, firebaseContext, points, scoreName, songPlayingIndex]);\n\n  useEffect(() => {\n    if (!isDisplayingScoreModal && liveEmojiRef.current) {\n      liveEmojiRef.current.resetPoints();\n    }\n  }, [isDisplayingScoreModal]);\n\n  const history = useHistory();\n\n  const selectedEmojis = useMemo(() => {\n    return userSongs.length && userSongs[songPlayingIndex]\n      ? selectedSongEmojis[userSongs[songPlayingIndex].id] || {}\n      : {};\n  }, [userSongs, songPlayingIndex, selectedSongEmojis]);\n\n  const liveEmojiRef = useRef<LiveEmojiSection>(null);\n  const bulletRef = useRef<BulletSection>(null);\n\n  const onClickShare = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      setShareAnchor(event.currentTarget);\n    },\n    []\n  );\n\n  const updateEmojis = useCallback(\n    _.debounce((song: userSong, emojiSelections: IEmojiSelections) => {\n      if (!song || !Object.keys(emojiSelections).length) return;\n      firebaseContext.updateEmojis(song.id, emojiSelections);\n    }, 1000),\n    [song]\n  );\n\n  const updateLiveEmojis = useCallback(\n    _.debounce((songId: string, data: any) => {\n      firebaseContext.updateLiveEmojis(songId, data);\n    }, 1000),\n    [song]\n  );\n\n  const updateBullets = useCallback(\n    _.debounce((songId: string, data: any) => {\n      firebaseContext.updateBullets(songId, data);\n    }, 1000),\n    [song]\n  );\n\n  useEffect(() => {\n    if (songPlayingIndex !== -1) {\n      const song = userSongs[songPlayingIndex];\n      history.push(`/${historyURL}/${song.id}`);\n      socket.emit(\"connect room\", song.id);\n    }\n  }, [history, songPlayingIndex, userSongs, historyURL]);\n\n  useEffect(() => {\n    if (userSongs.length) {\n      if (userSongs[songPlayingIndex]) {\n        setSong(userSongs[songPlayingIndex]);\n        liveEmojiRef.current?.initializeEmojis(\n          selectedSongLiveEmojis[userSongs[songPlayingIndex].id]\n        );\n        bulletRef.current?.initializeBullets(\n          selectedSongBullets[userSongs[songPlayingIndex].id]\n        );\n      }\n    }\n  }, [\n    userSongs,\n    songPlayingIndex,\n    selectedSongLiveEmojis,\n    selectedSongBullets,\n  ]);\n\n  useEffect(() => {\n    firebaseContext.getSongs().then((songs) => {\n      const filter = isYoutube\n        ? (song: userSong) => song.url.includes(\"youtube\")\n        : (song: userSong) => song.authorName;\n\n      songs = songs.filter(filter);\n\n      const selectedSongEmojis = songs.reduce<ISongEmojiSelections>(\n        (acc, song) => {\n          acc[song.id] = song.emojiSelections || {};\n          return acc;\n        },\n        {}\n      );\n      setSelectedSongEmojis(selectedSongEmojis);\n\n      const selectedSongLiveEmojis = songs.reduce<any>((acc, song) => {\n        acc[song.id] = song.liveEmojis || {};\n        return acc;\n      }, {});\n      setSelectedSongLiveEmojis(selectedSongLiveEmojis);\n\n      const selectedSongBullets = songs.reduce<any>((acc, song) => {\n        acc[song.id] = song.bullets || {};\n        return acc;\n      }, {});\n      setSelectedSongBullets(selectedSongBullets);\n\n      setUserSongs(songs);\n    });\n  }, [firebaseContext, isYoutube]);\n\n  const onEmojiClick = useCallback(\n    (song?: userSong) => (_: MouseEvent, emoji: IEmojiData) => {\n      if (!song) return;\n\n      setSelectedSongEmojis((selectedSongEmojis) => {\n        let newSongEmojiSelections: ISongEmojiSelections = {\n          ...selectedSongEmojis,\n        };\n        if (!selectedSongEmojis[song.id]) {\n          newSongEmojiSelections[song.id] = {};\n        }\n\n        newSongEmojiSelections = {\n          ...newSongEmojiSelections,\n          [song.id]: {\n            ...selectedSongEmojis[song.id],\n            [emoji.unified]:\n              (newSongEmojiSelections[song.id][emoji.unified] || 0) + 1,\n          },\n        };\n\n        updateEmojis(song, newSongEmojiSelections[song.id]);\n\n        if (liveEmojiRef.current) {\n          liveEmojiRef.current.addEmoji(emoji.unified);\n        }\n        updateLiveEmojis(song.id, selectedSongLiveEmojis[song.id]);\n        return newSongEmojiSelections;\n      });\n    },\n    [updateEmojis, updateLiveEmojis, selectedSongLiveEmojis]\n  );\n\n  useEffect(() => {\n    if (!userSongs.length) return;\n    const songIndex = userSongs.findIndex((upload) => upload.id === id);\n    if (songIndex === -1) {\n      if (id) alert(\"Song with id \" + id + \" not found\");\n      setSongPlayingIndex(0);\n    } else {\n      setSongPlayingIndex(songIndex);\n    }\n  }, [id, userSongs]);\n\n  const updatePlayCount = useCallback(\n    (songIndex: number) => {\n      const song = userSongs[songIndex];\n\n      if (song && !playedSong[song.id]) {\n        setPlayedSong({ ...playedSong, [song.id]: true });\n        const newPlayCount = (song.playCount || 0) + 1;\n        firebaseContext.updatePlayCount(song.id, newPlayCount);\n      }\n    },\n    [playedSong, firebaseContext, userSongs]\n  );\n\n  const onPlay = useCallback(() => {\n    liveEmojiRef.current?.onPlayCallback();\n    bulletRef.current?.onPlayCallback();\n    if (isLobby) {\n      socket.emit(\"lobby play\", id);\n    }\n  }, [liveEmojiRef, bulletRef, id, isLobby]);\n\n  const onProgressYoutube = ({ playedSeconds }: { playedSeconds: number }) => {\n    if (isLobby && isLobbyPlaying) {\n      socket.emit(\"lobby playtime set\", id, playedSeconds);\n    }\n  };\n\n  const onPlayYoutube = useCallback(() => {\n    setIsPlaying(true);\n    updatePlayCount(songPlayingIndex);\n    onPlay();\n  }, [onPlay, updatePlayCount, songPlayingIndex]);\n\n  const onPause = useCallback(() => {\n    liveEmojiRef.current?.onPauseCallback();\n    bulletRef.current?.onPauseCallback();\n    if (isLobby) {\n      socket.emit(\"lobby pause\", id);\n    }\n  }, [liveEmojiRef, bulletRef, id, isLobby]);\n\n  const onPauseYoutube = useCallback(() => {\n    setIsPlaying(false);\n    onPause();\n  }, [onPause]);\n\n  const playSong = useCallback(\n    (index: number) => {\n      updatePlayCount(index);\n\n      if (index === songPlayingIndex && audio) {\n        audio.play();\n      } else {\n        audio?.pause();\n        const song = userSongs[index];\n        if (!song) return;\n\n        let _audio: HTMLAudioElement = audio || new window.Audio(song.url);\n\n        _audio.src = song.url;\n        _audio?.play();\n        if (!audio) {\n          setAudio(_audio);\n          liveEmojiRef.current?.initializeAudio(_audio);\n          bulletRef.current?.initializeAudio(_audio);\n          _audio.onplaying = onPlay;\n          _audio.onpause = onPause;\n        }\n        setSongPlayingIndex(index);\n      }\n      setIsPlaying(true);\n    },\n    [updatePlayCount, audio, onPause, onPlay, songPlayingIndex, userSongs]\n  );\n\n  const onClickPrevSong = useCallback(() => {\n    let newSongIndex = songPlayingIndex - 1;\n    if (newSongIndex < 0) {\n      newSongIndex = userSongs.length - 1;\n    }\n    playSong(newSongIndex);\n    setAmountOnline(1);\n    liveEmojiRef.current?.resetState();\n  }, [playSong, songPlayingIndex, userSongs.length]);\n\n  const onClickNextSong = useCallback(() => {\n    let newSongIndex = songPlayingIndex + 1;\n    if (newSongIndex >= userSongs.length) {\n      newSongIndex = 0;\n    }\n    playSong(newSongIndex);\n    setAmountOnline(1);\n    liveEmojiRef.current?.resetState();\n  }, [playSong, songPlayingIndex, userSongs.length]);\n\n  const generateRandomUrls = useCallback(() => {\n    const choices: { index: number; name: string }[] = [];\n    const picked: number[] = [];\n    while (userSongs.length > 3 && choices.length < 3) {\n      const choice = Math.floor(Math.random() * userSongs.length);\n      const info = { index: choice, name: userSongs[choice].name };\n      if (\n        choice !== songPlayingIndex &&\n        info.name &&\n        !picked.includes(info.index)\n      ) {\n        choices.push(info);\n        picked.push(info.index);\n      }\n    }\n    liveEmojiRef.current?.randomSongUrl(choices);\n  }, [songPlayingIndex, userSongs]);\n\n  const onSongEnd = useCallback(() => {\n    setIsPlaying(false);\n    socket.emit(\"lobby playtime set\", id, null);\n    onPause();\n    if (points > 0) {\n      setDisplayingScoreModal(true);\n    }\n    generateRandomUrls();\n  }, [points, onPause, generateRandomUrls, id]);\n\n  useEffect(() => {\n    if (audio === null) return;\n    audio.addEventListener(\"ended\", onSongEnd);\n  }, [audio, onSongEnd]);\n\n  const onTogglePlaySong = useCallback(() => {\n    if (userSongs.length && !isPlaying) {\n      if (songPlayingIndex !== -1) {\n        playSong(songPlayingIndex);\n      }\n    } else if (audio && isPlaying) {\n      audio.pause();\n      setIsPlaying(false);\n    }\n  }, [userSongs, isPlaying, playSong, audio, songPlayingIndex]);\n\n  const convertedSong = useMemo<{\n    url: string;\n    artist: string;\n    songName: string;\n  }>(() => {\n    if (song) {\n      return {\n        url: song.url,\n        artist: song.authorName,\n        songName: song.songName,\n      };\n    } else {\n      return {\n        url: \"\",\n        artist: \"\",\n        songName: \"\",\n      };\n    }\n  }, [song]);\n\n  const onClickEmojiPanel = useCallback(\n    (key: string) => () => {\n      const song = userSongs[songPlayingIndex];\n\n      setSelectedSongEmojis((selectedSongEmojis) => {\n        const newSelectedSongEmojis = {\n          ...selectedSongEmojis,\n          [song.id]: {\n            ...selectedSongEmojis[song.id],\n            [key]: (selectedSongEmojis[song.id][key] || 0) + 1,\n          },\n        };\n        updateEmojis(song, newSelectedSongEmojis[song.id]);\n        return newSelectedSongEmojis;\n      });\n\n      if (liveEmojiRef.current) {\n        liveEmojiRef.current.addEmoji(key);\n      }\n      updateLiveEmojis(song.id, selectedSongLiveEmojis[song.id]);\n    },\n    [\n      userSongs,\n      liveEmojiRef,\n      selectedSongLiveEmojis,\n      songPlayingIndex,\n      updateEmojis,\n      updateLiveEmojis,\n    ]\n  );\n\n  const onClickHome = useCallback(() => {\n    if (audio) {\n      audio.pause();\n      audio.removeAttribute(\"src\");\n    }\n    history.push(\"/\");\n  }, [audio, history]);\n\n  useEffect(() => {\n    if (isLobbyPlaying) {\n      socket.emit(\"lobby play\");\n    }\n  }, [isLobbyPlaying]);\n\n  return (\n    <div className=\"player-page-container\">\n      <div className=\"width-100 flex space-below justify-between\">\n        <PlayerLogo />\n        <LibraryButton text=\"create\" onClick={onClickHome} />\n      </div>\n\n      <div\n        ref={playerBodyRef}\n        className=\"player-body\"\n        onMouseMove={onMouseMove}\n      >\n        {isCollaborating && (\n          <UserCursors\n            userLocations={userLocations}\n            userProfiles={userProfiles}\n            userPoints={userPoints}\n          />\n        )}\n\n        {isYoutube ? (\n          <ReactPlayer\n            url={song?.url}\n            controls\n            ref={youtubeRef}\n            width={Math.min(640, window.innerWidth)}\n            onReady={bulletRef.current?.matchPlayerDim}\n            onPlay={onPlayYoutube}\n            onPause={onPauseYoutube}\n            onEnded={onSongEnd}\n            onProgress={onProgressYoutube}\n            playing={isLobby ? isLobbyPlaying : undefined}\n            config={{\n              youtube: { playerVars: { start: Math.ceil(lobbyPlayTime) } },\n            }}\n          />\n        ) : error === null && song && song.gifUrl ? (\n          <img\n            alt=\"corresponding media\"\n            style={{ width: 200, height: 200 }}\n            src={song.gifUrl}\n            onError={(e) =>\n              setError(\n                \"whoops, looks like there's too much activity, try the player tomorrow\"\n              )\n            }\n          />\n        ) : (\n          <div style={{ width: 200, height: 200 }} />\n        )}\n\n        {error === null && (\n          <>\n            <div className=\"collaboration-container\">\n              <div style={{ display: \"flex\" }}>\n                <div>collaboration</div>\n                <Switch\n                  color=\"primary\"\n                  checked={isCollaborating}\n                  onChange={onChangeCollaboration}\n                />\n              </div>\n              {isCollaborating && (\n                <div style={{ background: \"white\", padding: 5 }}>\n                  online: {amountOnline}\n                </div>\n              )}\n            </div>\n            <LiveEmojiSection\n              youtubeRef={isYoutube ? youtubeRef : undefined}\n              ref={liveEmojiRef}\n              onChangePoints={setPoints}\n              scores={song?.highscores}\n              setSongPlayingIndex={setSongPlayingIndex}\n              updatePoints={onUpdatePoints}\n            />\n          </>\n        )}\n        {error === null && (\n          <BulletSection\n            updateBullets={() => {\n              if (song) updateBullets(song.id, selectedSongBullets[song.id]);\n            }}\n            ref={bulletRef}\n            submitBullet={onSubmitBullet}\n            youtubeRef={isYoutube ? youtubeRef : undefined}\n          />\n        )}\n\n        {isYoutube && (\n          <div className=\"back-next-container\">\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n              }}\n            >\n              <IconButton onClick={onClickPrevSong}>\n                <SkipPrevious />\n              </IconButton>\n              <div>back</div>\n            </div>\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n              }}\n            >\n              <IconButton onClick={onClickNextSong}>\n                <SkipNext />\n              </IconButton>\n              next\n            </div>\n          </div>\n        )}\n\n        {error !== null && (\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n            }}\n          >\n            <img src={errorImg} width=\"480\" height=\"365\" alt=\"error-gif\" />\n            <div className=\"error-container\">{error}</div>\n          </div>\n        )}\n\n        <div className=\"music-controller-emoji-container\">\n          {!isYoutube && (\n            <div className=\"music-controller-container\">\n              <MusicController\n                isPlaying={isPlaying}\n                onClickPrev={onClickPrevSong}\n                onClickNext={onClickNextSong}\n                onTogglePlay={onTogglePlaySong}\n                song={convertedSong}\n              />\n              <Tooltip title=\"shareable url\">\n                <IconButton\n                  style={{ width: \"fit-content\" }}\n                  onClick={onClickShare}\n                >\n                  <Share style={{ width: 50, height: 30, color: \"#75d56c\" }} />\n                </IconButton>\n              </Tooltip>\n            </div>\n          )}\n\n          <div\n            style={{\n              display: isEmojiPickerOpen ? \"flex\" : \"none\",\n            }}\n            className=\"emoji-picker-container\"\n          >\n            <IconButton onClick={() => setIsEmojiPickerOpen(false)}>\n              <Close htmlColor=\"red\" />\n            </IconButton>\n            <Picker key={song?.id} onEmojiClick={onEmojiClick(song)} />\n          </div>\n\n          {!song?.isLocked && (\n            <>\n              <EmojiPanel\n                selectedEmojis={selectedEmojis}\n                onClickEmoji={onClickEmojiPanel}\n                isDisabled={song?.isLocked}\n              />\n              <div>\n                add emoji\n                <Tooltip title=\"insert emoji\">\n                  <IconButton\n                    disabled={song?.isLocked}\n                    onClick={() => setIsEmojiPickerOpen(true)}\n                  >\n                    <InsertEmoticon />\n                  </IconButton>\n                </Tooltip>\n              </div>\n            </>\n          )}\n\n          {song?.isLocked && (\n            <Tooltip title=\"emojis cannot be added to this song\">\n              <Lock />\n            </Tooltip>\n          )}\n        </div>\n\n        <div className=\"leaderboard-plays-container\">\n          {song?.highscores && <Leaderboard scores={song.highscores} />}\n          <div className=\"plays-container\">plays: {song?.playCount || 0}</div>\n        </div>\n      </div>\n      <AdventureLogo />\n      <Popover\n        open={Boolean(shareAnchor)}\n        anchorEl={shareAnchor}\n        onClose={() => setShareAnchor(null)}\n        className=\"url-popover-container\"\n      >\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href={generateUrl(isYoutube, song)}\n        >\n          {generateUrl(isYoutube, song)}\n        </a>\n      </Popover>\n      <Modal open={isDisplayingScoreModal}>\n        <div className=\"streak-modal-container\">\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"flex-end\",\n              width: \"100%\",\n            }}\n          >\n            <IconButton onClick={() => setDisplayingScoreModal(false)}>\n              <div style={{ color: \"red\" }}>x</div>\n            </IconButton>\n          </div>\n          score: {points}\n          <div style={{ display: \"flex\", marginBottom: 10 }}>\n            <div style={{ marginRight: 10 }}>enter name:</div>\n            <TextField\n              value={scoreName}\n              onChange={(e) => setScoreName(e.target.value)}\n            />\n          </div>\n          <Button variant=\"contained\" onClick={onSubmitPoints}>\n            submit\n          </Button>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nconst generateUrl = (isYoutube?: boolean, song?: userSong) => {\n  if (!song) return \"\";\n  return `${window.location.origin}/#/${isYoutube ? \"youtube\" : \"player\"}/${\n    song.id\n  }`;\n};\n\ninterface IUserCursorsProps {\n  userLocations: IUserLocations;\n  userProfiles: IUserProfiles;\n  userPoints: IUserPoints;\n}\n\nconst UserCursors = (props: IUserCursorsProps) => {\n  return (\n    <>\n      {Object.entries(props.userLocations).map(([key, value]) => {\n        const { x, y } = value;\n\n        if (!props.userProfiles[key]) {\n          return null;\n        }\n        const { avatar, name } = props.userProfiles[key];\n        const points = props.userPoints[key];\n\n        return (\n          <div\n            style={{ transform: `translate(${x}px, ${y}px)` }}\n            className=\"user-connection-cursor\"\n            key={key}\n          >\n            <img src={avatarMap[avatar]} alt=\"avatar\" />\n            <div>{name}</div>\n            <div>{points}</div>\n          </div>\n        );\n      })}\n    </>\n  );\n};\n","import { InteractivePlayer } from \"../components/InteractivePlayer\";\nimport React from \"react\";\n\nexport const LobbyPage = () => {\n  return <InteractivePlayer isYoutube isLobby />;\n};\n","import \"../css/PlayerPage.css\";\n\nimport { InteractivePlayer } from \"../components/InteractivePlayer\";\nimport React from \"react\";\n\nexport const PlayerPage = () => {\n  return <InteractivePlayer />;\n};\n","import \"../css/UploadPage.css\";\n\nimport {\n  Button,\n  TextField,\n  Checkbox,\n  FormControlLabel,\n  Popover,\n  IconButton,\n  Tooltip,\n} from \"@material-ui/core\";\nimport React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport { AdventureLogo } from \"../components/AdventureLogo\";\nimport { FirebaseContext } from \"../contexts/firebaseContext\";\nimport { PlayerLogo } from \"../components/PlayerButton\";\nimport _ from \"underscore\";\nimport bananaDance from \"../assets/bananadance.gif\";\nimport { userSong } from \"../types\";\nimport ReactPlayer from \"react-player\";\nimport { ILiveEmojis } from \"../types\";\n\nimport HelpIcon from \"@material-ui/icons/Help\";\nimport emojiStreamDemo from \"../assets/emoji_stream_demo_gif.gif\";\n\ninterface ISubmission {\n  url: string;\n  songId: string;\n  songName: string;\n  generatedEmojis: ILiveEmojis;\n}\nconst RANDOM_EMOJIS = [\n  \"1f941\",\n  \"1f48e\",\n  \"1f3c6\",\n  \"1f602\",\n  \"1f3b6\",\n  \"1f48e\",\n  \"1f3b9\",\n  \"1f4f1\",\n  \"1f63b\",\n  \"1f499\",\n  \"1f30d\",\n  \"1f9e1\",\n  \"1f525\",\n  \"1f381\",\n  \"1f49c\",\n];\nconst RANDOM_EMOJI_STREAM_OFFSET = 3;\n\nexport const UploadPage = () => {\n  const firebaseContext = useContext(FirebaseContext);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [latestSubmitted, setLatestSubmitted] = useState<ISubmission | null>(\n    null\n  );\n  const [url, setUrl] = useState(\"\");\n  const [songId, setSongId] = useState(\"\");\n  const [songName, setSongName] = useState(\"\");\n  const [error, setError] = useState<Error | null>(null);\n  const [randomSongs, setRandomSongs] = useState<userSong[]>([]);\n  const [generateEmoji, setGenerateEmoji] = useState<boolean>(true);\n  const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(\n    null\n  );\n  const open = Boolean(anchorEl);\n\n  const handlePopoverOpen = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handlePopoverClose = () => {\n    setAnchorEl(null);\n  };\n\n  const youtubeRef = useRef<ReactPlayer>(null);\n\n  useEffect(() => {\n    firebaseContext.getSongs().then((songs) => {\n      const filter = (song: userSong) => song.url.includes(\"youtube\");\n\n      songs = songs.filter(filter);\n\n      setRandomSongs(getRandomSongs(songs));\n    });\n  }, [firebaseContext]);\n\n  const generateEmojiStream = (emojis: ILiveEmojis) => {\n    if (youtubeRef?.current) {\n      const duration = youtubeRef.current.getDuration();\n      for (\n        var timestamp = 0;\n        timestamp < duration;\n        timestamp += Math.random() * RANDOM_EMOJI_STREAM_OFFSET\n      ) {\n        //const randomEmojiUnicode = randomEmoji.random({count:1})[0];\n        const roundedTime = roundTime(timestamp);\n        if (!(roundedTime in emojis)) emojis[roundedTime] = [];\n        emojis[roundedTime].push(\n          RANDOM_EMOJIS[Math.floor(Math.random() * RANDOM_EMOJIS.length)]\n        );\n      }\n    }\n    console.log(emojis);\n  };\n\n  const submitVideo = () => {\n    const generatedEmojis: ILiveEmojis = {};\n\n    if (!isValidYouTubeURL(url)) {\n      setError(new Error(\"Invalid YouTube URL: \" + url));\n      return;\n    }\n\n    if (!songId) {\n      setError(new Error(\"No song ID submitted\"));\n      return;\n    }\n\n    if (!songName) {\n      setError(new Error(\"No song name submitted\"));\n      return;\n    }\n\n    if (generateEmoji) {\n      generateEmojiStream(generatedEmojis);\n    }\n\n    setIsSubmitting(true);\n\n    const trimmedURL = trimURL(url);\n    const isLocked = generateEmoji; // if we are generating emoji automatically, lock the emojis\n    firebaseContext\n      .uploadYoutubeVideo(\n        songId,\n        songName,\n        trimmedURL,\n        generatedEmojis,\n        isLocked\n      )\n      .then(() => {\n        setIsSubmitting(false);\n        setLatestSubmitted({\n          url: trimmedURL,\n          songId,\n          songName,\n          generatedEmojis,\n        });\n        setUrl(\"\");\n        setSongId(\"\");\n        setSongName(\"\");\n        setError(null);\n      })\n      .catch((err) => {\n        setError(err);\n        setIsSubmitting(false);\n      });\n  };\n\n  const previewURL = `${window.location.origin}/#/youtube/${songId}`;\n\n  return (\n    <div className=\"upload-container\">\n      <div className=\"width-100 flex justify-between align-center\">\n        <PlayerLogo />\n        <img\n          style={{ width: 50, height: 50, marginRight: 10 }}\n          src={bananaDance}\n          alt=\"banana dance\"\n        />\n      </div>\n\n      <div className=\"flex-column align-center\">\n        <h2 style={{ margin: 0 }}>create</h2>\n        <h2 style={{ margin: 0 }}>player page</h2>\n      </div>\n\n      <TextField\n        placeholder=\"YouTube URL\"\n        value={url}\n        onChange={(evt) => setUrl(evt.target.value)}\n        disabled={isSubmitting}\n        style={{ width: 400, maxWidth: \"100%\" }}\n      />\n      <TextField\n        placeholder=\"song id\"\n        value={songId}\n        onChange={(evt) => setSongId(evt.target.value)}\n        disabled={isSubmitting}\n      />\n      <TextField\n        placeholder=\"song name\"\n        value={songName}\n        onChange={(evt) => setSongName(evt.target.value)}\n        disabled={isSubmitting}\n      />\n\n      <div>\n        <Tooltip title=\"auto generate an emoji stream for your video\">\n          <FormControlLabel\n            control={\n              <Checkbox\n                checked={generateEmoji}\n                onChange={(event) => {\n                  setGenerateEmoji(event.target.checked);\n                }}\n                color=\"primary\"\n              />\n            }\n            label=\"generate emoji stream\"\n          />\n        </Tooltip>\n\n        <IconButton onClick={handlePopoverOpen}>\n          <HelpIcon />\n        </IconButton>\n        <Popover\n          id=\"mouse-over-popover\"\n          open={open}\n          anchorEl={anchorEl}\n          anchorOrigin={{\n            vertical: \"center\",\n            horizontal: \"right\",\n          }}\n          transformOrigin={{\n            vertical: \"center\",\n            horizontal: \"right\",\n          }}\n          onClose={handlePopoverClose}\n          disableRestoreFocus\n        >\n          <div>Emoji stream demo</div>\n          <img\n            alt=\"popover gif\"\n            className=\"popover_gif\"\n            src={emojiStreamDemo}\n          />\n        </Popover>\n      </div>\n\n      {error && <div className=\"upload-error\">{error.message}</div>}\n      {latestSubmitted && (\n        <div className=\"upload-latest-submitted\">\n          success! uploaded\n          <a\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href={`${window.location.origin}/#/youtube/${latestSubmitted.songId}`}\n          >\n            {`${window.location.origin}/#/youtube/${latestSubmitted.songId}`}\n          </a>\n        </div>\n      )}\n\n      {isValidYouTubeURL(url) && <ReactPlayer url={url} ref={youtubeRef} />}\n\n      <Button variant=\"contained\" disabled={isSubmitting} onClick={submitVideo}>\n        submit\n      </Button>\n\n      <div className=\"upload-preview-url\">\n        url:\n        <div className=\"upload-preview-url-string\">{previewURL}</div>\n      </div>\n\n      <h2>visit</h2>\n\n      <div className=\"visit-player-page-container\">\n        {randomSongs.map((song) => (\n          <a\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href={`${window.location.origin}/#/youtube/${song.id}`}\n            key={song.id}\n          >\n            {`${window.location.origin}/#/youtube/${song.id}`}\n          </a>\n        ))}\n      </div>\n\n      <div className=\"width-100 flex justify-between align-center\">\n        <AdventureLogo />\n        <a\n          className=\"about-us\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"http://adventure.pizza\"\n        >\n          about us\n        </a>\n      </div>\n    </div>\n  );\n};\n\nconst isValidYouTubeURL = (url: string): boolean => {\n  //eslint-disable-next-line\n  return /^(https?\\:\\/\\/)?(www\\.youtube\\.com|youtu\\.?be)\\/.+$/.test(url);\n};\n\nconst trimURL = (url: string): string => {\n  const indexAmpersand = url.indexOf(\"&\");\n  if (indexAmpersand !== -1) {\n    url = url.slice(0, indexAmpersand);\n  }\n  return url.trim();\n};\n\nconst getRandomSongs = (songs: userSong[]) => {\n  if (songs.length <= 5) return songs;\n\n  const indexArr = _.shuffle(Array.from(Array(songs.length).keys())).slice(\n    0,\n    5\n  );\n\n  console.log(\"index arr is \", indexArr);\n\n  const randomSongArr = indexArr.map((index) => {\n    return songs[index];\n  });\n\n  console.log(\"randomSongArr is \", randomSongArr);\n  return randomSongArr;\n};\n\nconst roundTime = (num: number) => {\n  const result = Math.floor(num * 20) / 20;\n  // being compatible with previous data\n  if (parseFloat(result.toFixed(1)) === parseFloat(result.toFixed(2)))\n    return result.toFixed(1);\n  return result.toFixed(2);\n};\n","import { InteractivePlayer } from \"../components/InteractivePlayer\";\nimport React from \"react\";\n\nexport const YoutubePage = () => {\n  return <InteractivePlayer isYoutube />;\n};\n","import \"./css/App.css\";\n\nimport {\n  Redirect,\n  Route,\n  HashRouter as Router,\n  Switch,\n} from \"react-router-dom\";\n\nimport { CreatePage } from \"./routes/CreatePage\";\nimport { DndProvider } from \"react-dnd-multi-backend\";\nimport HTML5toTouch from \"react-dnd-multi-backend/dist/esm/HTML5toTouch\";\n// import { Homepage } from \"./routes/Homepage\";\nimport { LobbyPage } from \"./routes/LobbyPage\";\nimport { PlayerPage } from \"./routes/PlayerPage\";\nimport React from \"react\";\nimport { UploadPage } from \"./routes/UploadPage\";\nimport { YoutubePage } from \"./routes/YoutubePage\";\nimport backgroundImage from \"./assets/Polka-Dots.svg\";\nimport { withFirebaseContext } from \"./contexts/firebaseContext\";\n\nfunction App() {\n  return (\n    <div\n      className=\"App\"\n      style={{\n        background: `url(${backgroundImage})`,\n      }}\n    >\n      {withFirebaseContext(\n        <Router>\n          <Switch>\n            <Route exact path={\"/\"}>\n              <UploadPage />\n            </Route>\n\n            <Route path={\"/player/:id?\"}>\n              <PlayerPage />\n            </Route>\n\n            <Route path={\"/youtube/:id?\"}>\n              <YoutubePage />\n            </Route>\n\n            <Route path={\"/lobby/:id?\"}>\n              <LobbyPage />\n            </Route>\n\n            <Route path={\"/upload\"}>\n              <UploadPage />\n            </Route>\n\n            <Route path={\"/create\"}>\n              <DndProvider options={HTML5toTouch}>\n                <CreatePage />\n              </DndProvider>\n            </Route>\n\n            <Redirect from=\"*\" to={\"/\"} />\n          </Switch>\n        </Router>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./css/index.css\";\nimport App from \"./App\";\n// import * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  // <React.StrictMode>\n  <App />,\n  // </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/bananadance.e104fb74.gif\";"],"sourceRoot":""}